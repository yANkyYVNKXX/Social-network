{"version":3,"sources":["Components/Profile/ProfileInfo/Status.module.css","Components/Profile/ProfileInfo/EditAboutMe.module.css","Components/Navigation/Nav.module.css","Components/Utilits/renderField.module.css","Components/Users/Search.module.css","Components/Profile/ProfileInfo/AboutMe.module.css","Components/Users/Users.module.css","Components/Navigation/Img/logo.png","Api.ts","Redux/Utilits-Reducer.ts","Redux/Auth-Reducer.ts","Components/Navigation/Nav.tsx","Components/Menu/Menu.tsx","hoc/WithAuthRedirect.tsx","Redux/UsersPage-Reducer.ts","Components/Utilits/Pagination.tsx","Components/Utilits/Spinner.gif","Components/Utilits/preloader.jsx","Components/Utilits/renderField.tsx","Components/Users/Search.tsx","Components/Profile/Img/Avatar.jpg","Components/Users/Users.tsx","Components/Utilits/Validators.js","Components/Login/LoginForm.tsx","Components/Login/Login.tsx","Redux/ProfilePage-Reducer.ts","Components/Profile/ProfileInfo/Status.tsx","Components/Profile/ProfileInfo/AboutMe.tsx","Components/Profile/ProfileInfo/EditAboutMe.tsx","Components/Profile/ProfileInfo/Modal.tsx","Components/Profile/ProfileInfo/ProfileInfo.tsx","Components/Profile/Profile.tsx","Redux/Chat-Reducer.ts","Components/Utilits/Selectors.ts","Components/Chat/Chat.tsx","App.tsx","Redux/DialogPage-Reducer.js","Redux/Store.ts","index.js","Components/Profile/ProfileInfo/Modal.module.css","Components/Profile/ProfileInfo/ProfileInfo.module.css","Components/Login/Loginform.module.css","Components/Menu/Menu.module.css","Components/Utilits/Pagination.module.css"],"names":["module","exports","instance","axios","create","withCredentials","baseURL","headers","usersAPI","current","term","get","userId","post","delete","profileAPI","user","then","response","data","status","put","photo","AuthAPI","email","password","rememberMe","captcha","securityAPI","initialState","ButtonDisabled","isFetching","FETCHING","BUTTONSDISABLED","actionsUtilits","type","ISAUTH","INITAPP","CAPTCHA","id","login","isAuth","initApp","AuthReducer","state","action","url","actions","AuthThunk","dispatch","a","resultCode","LogoutThunk","connect","Auth","UserName","Logout","className","style","Nav","Logo","src","logo","onClick","to","UserId","Menu","activeClassName","Active","WithAuthRedirect","Component","FOLLOW","UNFOLLOW","SETUSERS","CHANGEPAGE","items","totalCount","currentPage","followed","getUsersThunk","undefined","TotalUsers","UsersPage","CurrentPage","Utilits","getUsers","startPage","endPage","updPagesLength","portionSize","updCurrent","MaxPagesLength","Math","ceil","useState","pages","updPages","useEffect","pagesUPD","i","push","Prev","filter","p","map","arr","length","disabled","ActivePage","margin","Preloader","spinner","renderField","placeholder","input","meta","error","touched","cn","field","color","visible","placement","title","fieldError","reduxForm","form","handleSubmit","search","onSubmit","Field","name","component","compose","users","useQueryParam","NumberParam","—Åurrent","StringParam","updTerm","console","log","useDispatch","follow","e","button","target","catch","alert","finally","followThunk","unfollow","unfollowThunk","header","value","initialValues","Pagination","content","preloader","u","Block","photos","small","ava","Avatar","infoUser","userName","elipsiss","Unfollow","Follow","required","maxLenght","urlValidation","test","maxLenght32","props","loginWcaptcha","validate","RememberMe","Login_w","Login","values","stopSubmit","_error","messages","LoginThunk","posts","text","messageText","profile","aboutMe","contacts","facebook","website","vk","twitter","instagram","youtube","github","mainLink","lookingForAJob","lookingForAJobDescription","fullName","large","getProfileThunk","Status","React","memo","updStatus","isOwner","ChangeOfStatus","setStatus","StatusText","setStatusText","textAlign","onChange","event","onBlur","autoFocus","onDoubleClick","notStatus","ProfilePage","statusText","sendStatusThunk","Contacts","Object","keys","key","href","AboutMe","maxLenght20","maxLenght50","closeAboutMe","LookingForAjob","marginRight","buttons","updProfilePhoto","Promise","resolve","window","updProfilePhotoThunk","modal","updModal","createRef","errMsg","updErrMsg","Modal","ModalActive","ModalContent","ModalContentActive","ref","formData","FormData","append","files","ProfileInfo","updProfile","editMod","updEditMode","updOwner","Profile","ImageSettings","svg","width","height","viewBox","xmlns","d","Ava","editButton","this","setStateProfile","getStatus","setProfile","parseInt","match","params","userID","prevProps","withRouter","getStatusThunk","reject","updProfileThunk","INITCHAT","NULLCHAT","payload","chatReducer","getChat","Chat","getMyId","MessagesElement","useRef","InitialMessages","JSON","parse","scrollIntoView","message","updMessage","buttonDisabled","updButtonDisabled","updIsFetching","isFetchingSend","updIsFetchingSend","isChatting","updChatting","chat","useSelector","myId","chatWS","WebSocket","onopen","addEventListener","removeEventListener","CloseOutlined","send","WechatOutlined","fontSize","Header","Layout","Content","Sider","Footer","ReactRouterRoute","Route","backgroundColor","boxShadow","marginBottom","padding","exact","path","render","init","dialogs","nameDialog","activeDialog","textMessage","reducers","combineReducers","DialogPage","dialog","dialogId","findIndex","item","newMessage","copystate","assign","index","reducer","store","createStore","applyMiddleware","thunk","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.6ced0cc4.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"Status_status__3qH1m\",\"anime\":\"Status_anime__37Yte\",\"notStatus\":\"Status_notStatus__1QBO2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"aboutMe\":\"EditAboutMe_aboutMe__1UuqV\",\"anime\":\"EditAboutMe_anime__1KA2-\",\"buttons\":\"EditAboutMe_buttons__3WHuJ\",\"LookingForAjob\":\"EditAboutMe_LookingForAjob__2CKxG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Nav\":\"Nav_Nav__ucKIc\",\"Logo\":\"Nav_Logo__2vyaK\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fieldError\":\"renderField_fieldError__38L3n\",\"error\":\"renderField_error__2t9tl\",\"field\":\"renderField_field__ghDQM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search\":\"Search_search__XEWic\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AboutMe\":\"AboutMe_AboutMe__3dz7N\",\"anime\":\"AboutMe_anime__33aEN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Avatar\":\"Users_Avatar__2fHtJ\",\"Block\":\"Users_Block__bL9Fy\",\"header\":\"Users_header__pHyNX\",\"Pagination\":\"Users_Pagination__2ugnf\",\"content\":\"Users_content__3zai0\",\"users\":\"Users_users__2w3pg\",\"preloader\":\"Users_preloader__27fAY\",\"Follow\":\"Users_Follow__1CQ2R\",\"Unfollow\":\"Users_Unfollow__dESpK\",\"userName\":\"Users_userName__1YhxX\",\"infoUser\":\"Users_infoUser__22ur7\",\"elipsiss\":\"Users_elipsiss__3jLIx\"};","export default __webpack_public_path__ + \"static/media/logo.41ae6d96.png\";","import axios from \"axios\"\r\nimport { dataAuth } from \"./Redux/Auth-Reducer\"\r\nimport { photos, profile, profileUPD, Users } from \"./Types/Types\"\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"f5fb66df-ad46-41c5-8be0-2f9f986c6851\"\r\n    }\r\n\r\n})\r\n\r\nexport type response<T={}> = {\r\n    data:T\r\n    messages:Array<string>\r\n    fieldsErrors:Array<string>\r\n    resultCode:number\r\n}\r\n\r\nexport const usersAPI = {\r\n    getUsers: (current = 1 as number | undefined | null, term='' as string | null | undefined) => instance.get<Users>(`users?page=${current}&count=${8}&term=${term}`),\r\n    follow: (userId:number) => instance.post(`/follow/${userId}`),\r\n    unfollow: (userId:number)=>instance.delete(`/follow/${userId}`)\r\n}\r\n\r\n\r\n\r\nexport const profileAPI = {\r\n    getProfile: (user:number | null) => instance.get<profile>('profile/' + user).then(response => response.data),\r\n    updStatus: (status:string) => instance.put<response>('profile/status', { status }).then(response => response.data),\r\n    getStatus: (user:number | null) => instance.get<string>('profile/status/' + user).then(response => response.data),\r\n    updPhoto: (photo:File) => instance.put<response<photos>>('profile/photo', photo, {headers:{'Content-Type':'multipart/form-data'}}).then(response => response.data),\r\n    updAboutMe: (data:profileUPD) => instance.put<response>('profile', data).then(response => response.data)\r\n}\r\n\r\n\r\n\r\n\r\ninterface data extends response {\r\n    data:dataAuth\r\n}\r\n\r\nexport const AuthAPI = {\r\n    \r\n    login: (email:string, password:string, rememberMe=false, captcha='') => instance.post<response<{userId:number}>>('auth/login', {\r\n    email,\r\n    password,\r\n    rememberMe,\r\n    captcha\r\n}).then(response => response.data),\r\n    Auth: () => instance.get<data>('auth/me').then(response => response.data),\r\n    Logout: () => instance.delete<response>('auth/login').then(response => response.data),\r\n}\r\n\r\n\r\nexport const securityAPI = {\r\n    getCaptcha: () => instance.get<{url:string}>('/security/get-captcha-url').then(response => response.data)\r\n}\r\n\r\n\r\n","import { InferActions } from \"./Store\"\r\n\r\nlet initialState = {\r\n    ButtonDisabled:false,\r\n    isFetching:false,\r\n    }\r\n\r\nconst FETCHING = 'FETCHING'\r\nconst BUTTONSDISABLED = 'BUTTONS-DISABLED'\r\ntype initialStateType = typeof initialState\r\n\r\n\r\nexport default function UtilitsReducer(state:initialStateType = initialState, action: ActionsUtilits):initialStateType {\r\n  switch (action.type) {\r\n    case FETCHING:\r\n        return {\r\n          ...state,\r\n          isFetching:action.data,\r\n        }\r\n      case BUTTONSDISABLED:\r\n      return {\r\n        ...state,\r\n        ButtonDisabled:action.data,\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport type ActionsUtilits = InferActions<typeof actionsUtilits>\r\n\r\nexport const actionsUtilits = {\r\n  ButtonDisabledAc: (data:boolean)=>({type:'BUTTONS-DISABLED',data}),\r\n  isFetchingAc: (data:boolean)=>({type:'FETCHING',data})\r\n}\r\n\r\n \r\n","import { InferActions, AppState } from './Store';\r\nimport { Dispatch } from \"redux\"\r\nimport {  stopSubmit } from \"redux-form\"\r\nimport { AuthAPI, securityAPI } from \"../Api\"\r\nimport { actionsUtilits, ActionsUtilits} from \"./Utilits-Reducer\"\r\nimport { ThunkAction } from 'redux-thunk';\r\n\r\nconst ISAUTH = 'IS-AUTH'\r\nconst INITAPP = 'INIT-APP'\r\nconst CAPTCHA = 'CAPTCHA'\r\n\r\nlet initialState = {\r\n    id: null as null | number,\r\n    login: null as null | string,\r\n    email: null as null | string,\r\n    isAuth: false,\r\n    initApp: true,\r\n    captcha:'',\r\n}\r\n\r\ntype initialStateType = typeof initialState\r\n\r\n\r\n\r\nconst AuthReducer = (state:initialStateType = initialState, action:Actions):initialStateType => {\r\n    switch (action.type) {\r\n        case ISAUTH:\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n                isAuth: action.isAuth,\r\n            }\r\n        case INITAPP:\r\n            return {\r\n                ...state,\r\n                initApp: action.initApp\r\n            }\r\n        case CAPTCHA:\r\n            return {\r\n                ...state,\r\n                captcha:action.url\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default AuthReducer\r\n\r\n\r\nexport type dataAuth = {\r\n    id: number | null\r\n    login:  string | null\r\n    email:  string | null\r\n}\r\n\r\n\r\ntype Actions = InferActions<typeof actions>\r\n\r\nconst actions = {\r\n    isAuthAc: (data:dataAuth, isAuth:boolean) => {\r\n        return {\r\n            type: ISAUTH,\r\n            data,\r\n            isAuth,\r\n        } as const\r\n    },\r\n     \r\n    \r\n    initAppAc: (initApp:boolean) => {\r\n        return {\r\n            type: INITAPP,\r\n            initApp\r\n        } as const\r\n    },\r\n    \r\n    \r\n    captchaAc: (url:string) => {\r\n        return {\r\n            type:CAPTCHA,\r\n            url\r\n        } as const\r\n    },\r\n}\r\n\r\n\r\n\r\n\r\nexport const AuthThunk = async (dispatch:Dispatch<Actions>) => {\r\n\r\n\r\n    const data = await AuthAPI.Auth()\r\n\r\n    if (data.resultCode === 0) {\r\n        dispatch(actions.isAuthAc(data.data, true))\r\n    }\r\n    dispatch(actions.initAppAc(false))\r\n\r\n\r\n}\r\n\r\n\r\ntype loginValue = {\r\n    email:string\r\n    password:string\r\n    rememberMe:boolean\r\n    captcha:string\r\n}\r\n\r\n\r\n\r\n\r\nexport const LoginThunk = (values:loginValue) => {\r\n    return (dispatch:any) => {\r\n           \r\n        dispatch(actionsUtilits.isFetchingAc(true))\r\n        AuthAPI.login(values.email, values.password, values.rememberMe, values.captcha)\r\n            .then(data => { \r\n                if (data.resultCode == 0)\r\n                {\r\n                dispatch(AuthThunk)\r\n                dispatch(actionsUtilits.isFetchingAc(false))\r\n                }\r\n                if (data.resultCode == 1) {\r\n                                  \r\n                    dispatch(actionsUtilits.isFetchingAc(false))\r\n                    dispatch(stopSubmit(\"login\", {_error:data.messages[0]}))\r\n                }\r\n                if (data.resultCode == 10)\r\n                {\r\n                    dispatch(actionsUtilits.isFetchingAc(false))\r\n                    securityAPI.getCaptcha().then(data=>dispatch(actions.captchaAc(data.url)))\r\n                }\r\n            }\r\n            )\r\n            \r\n    }\r\n}\r\n\r\nexport const LogoutThunk = (dispatch:Dispatch<Actions>) => {\r\n    AuthAPI.Logout()\r\n    .then(data=>{\r\n        if (data.resultCode == 0) {\r\n            dispatch(actions.isAuthAc({id:null,login:null,email:null},false))\r\n        }  \r\n    })\r\n        \r\n\r\n}\r\n","import style from './Nav.module.css'\nimport logo from './Img/logo.png'\nimport { connect } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport {LogoutThunk } from '../../Redux/Auth-Reducer';\nimport { Dispatch, FC } from 'react';\nimport { AppState } from '../../Redux/Store';\nimport { Button } from 'antd';\n\n\ntype MapStateToPropsType = {\n  isAuth:boolean\n  UserName:string | null\n}\n\ntype MapDispatchToPropsType = {\n  Logout:()=>void\n}\n\ntype PropsType = MapStateToPropsType & MapDispatchToPropsType\n\n const Nav:FC<PropsType> = ({isAuth, UserName, Logout})=>{\n   const logout = ()=>{\n    Logout()\n   }\n  return (\n    <nav className={style.Nav}>\n      <div className={style.Logo}>\n        <img src={logo}></img>\n      </div>\n      {isAuth?<div><span>{UserName}</span><Button className='Button' onClick={logout}>logout</Button></div>\n      :<NavLink to='/login'><Button className='Button'>Login</Button></NavLink>}\n    </nav>\n  );\n}\n\nconst MapStateToProps =(state:AppState):MapStateToPropsType=>{\n  return {\n    isAuth:state.Auth.isAuth,\n    UserName:state.Auth.login\n  }\n}\nconst MapDispatchToProps = (dispatch:Dispatch<any>)=>{\n  return {\n    Logout:()=>dispatch(LogoutThunk)\n  }\n}\nexport default connect<MapStateToPropsType, MapDispatchToPropsType, {}, AppState>(MapStateToProps,MapDispatchToProps)(Nav)","import { FC } from 'react';\nimport { connect } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport { AppState } from '../../Redux/Store';\nimport style from './Menu.module.css'\n\n\n\ntype MapStateToPropsType = {\n  UserId: number | null\n}\n\n const Menu: FC<MapStateToPropsType>= ({UserId}) => {\n\n  return (\n    <div className={style.Menu}>\n      <ul>\n      <li>\n          <NavLink to={'/profile/' + UserId} activeClassName={style.Active}>Profile</NavLink>\n        </li>\n        <li>\n          <NavLink to='/users' activeClassName={style.Active}>Users</NavLink>\n        </li>\n      </ul>\n    </div>\n  );\n}\n\nconst MapStateToProps = (state:AppState):MapStateToPropsType=>{\n  return {\n    UserId: state.Auth.id\n  }\n}\n\nexport default connect<MapStateToPropsType, {}, {},AppState>(MapStateToProps,{})(Menu)\n\n","import { connect } from \"react-redux\"\nimport { Redirect } from \"react-router\"\nimport { FC } from \"react\"\nimport { AppState } from \"../Redux/Store\"\n\n\ntype MapState = {\n  isAuth:boolean\n}\n\nconst WithAuthRedirect = (Component:FC) => {\n\n  const RedirectLogin = ({isAuth}:MapState)=>{\n    \n    if (!isAuth) return <Redirect to=\"/login\"/>\n    \n    return <Component/> \n  }\n\n  let MapStateToProps = (state:AppState):MapState=>{\n    return {\n      isAuth:state.Auth.isAuth\n    }\n}\n \n let connectedRedirectLogin = connect(MapStateToProps)(RedirectLogin)\n return connectedRedirectLogin\n\n}\n\n\n export default WithAuthRedirect","import { Dispatch } from 'redux';\r\nimport { ThunkAction } from 'redux-thunk';\r\nimport { usersAPI } from '../Api'\r\nimport { profile, users, Users } from '../Types/Types';\r\nimport { AppState, InferActions } from './Store';\r\nimport { ActionsUtilits, actionsUtilits } from './Utilits-Reducer';\r\n\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SETUSERS = 'SET-USERS'\r\nconst CHANGEPAGE = 'CHANGE-PAGE'\r\n\r\nlet initialState = {\r\n    items: [] as Array <users>,\r\n    totalCount:0,\r\n    currentPage:1 as number | undefined | null,\r\n    }\r\n\r\ntype initialStateType = typeof initialState\r\n\r\nexport default function UsersPageReducer(state:initialStateType = initialState, action:Actions):initialStateType {\r\n  switch (action.type) {\r\n    \r\n    case SETUSERS:\r\n      return {\r\n        ...state,\r\n        items:[...action.data.items],\r\n        totalCount:action.data.totalCount,\r\n      }\r\n    case CHANGEPAGE:\r\n      return {\r\n        ...state,\r\n        currentPage:action.current\r\n      }\r\n    case FOLLOW: {\r\n      const index = state.items.findIndex(u=>u.id == action.userId)\r\n      state.items[index].followed = action.followed\r\n      return {\r\n        ...state,\r\n        items:[...state.items]\r\n      }\r\n    }\r\n    case UNFOLLOW: {\r\n      const index = state.items.findIndex(u=>u.id == action.userId)\r\n      state.items[index].followed = action.followed\r\n      return {\r\n        ...state,\r\n        items:[...state.items]\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\ntype Actions = InferActions<typeof actions>\r\n\r\n\r\n\r\nexport let actions = {\r\n  SetUsersAc:(data:Users)=> ({type: SETUSERS, data} as const),\r\n  ChangePageAc:(current:number | undefined | null)=>({type: CHANGEPAGE, current} as const),\r\n  FollowAc:(userId:number, followed:boolean)=>({type: FOLLOW, userId, followed} as const),\r\n  UnfollowAc:(userId:number, followed:boolean)=>({type: UNFOLLOW, userId, followed} as const)\r\n}\r\n\r\n\r\n\r\ntype ThunkType = ThunkAction<Promise<void>,AppState,unknown, Actions>\r\n\r\nexport const getUsersThunk = (current:number | undefined | null,term:string | null | undefined):ThunkType=> {\r\n  return async (dispatch:Dispatch<Actions | ActionsUtilits>)=>{\r\n    dispatch(actionsUtilits.ButtonDisabledAc(true))\r\n    dispatch(actionsUtilits.isFetchingAc(true))\r\n    const response = await usersAPI.getUsers(current,term)\r\n    dispatch(actions.SetUsersAc(response.data))\r\n    dispatch(actionsUtilits.ButtonDisabledAc(false))\r\n    dispatch(actionsUtilits.isFetchingAc(false))\r\n    if (current!==undefined){dispatch(actions.ChangePageAc(current))}  \r\n}\r\n}\r\n\r\nexport const followThunk = (userId:number, button:HTMLInputElement)=>{\r\n  return (dispatch:Dispatch<Actions>)=>{\r\n    button.disabled = true\r\n    usersAPI.follow(userId)\r\n    .then (()=>dispatch(actions.FollowAc(userId, true)))\r\n    .catch((e)=>alert(e))\r\n    .finally(()=>button.disabled = false)\r\n}\r\n}\r\n\r\nexport const unfollowThunk = (userId:number, button:HTMLInputElement)=>{\r\n  return (dispatch:Dispatch<Actions>)=>{\r\n    button.disabled = true\r\n    usersAPI.unfollow(userId)\r\n    .then (()=>dispatch(actions.UnfollowAc(userId, false)))\r\n    .catch((e)=>alert(e))\r\n    .finally(()=>button.disabled = false)\r\n  }\r\n}","import React, { Dispatch, FC, SetStateAction, useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { UrlUpdateType } from 'use-query-params';\nimport { AppState } from '../../Redux/Store';\nimport { getUsersThunk } from '../../Redux/UsersPage-Reducer';\nimport style from './Pagination.module.css'\n\ntype ownPropsType = {\n  term:string | null | undefined\n  startPage: number\n  endPage:number\n  updPagesLength: Dispatch<SetStateAction<{ startPage: number; endPage: number; }>>\n  portionSize:number\n  updCurrent: any\n}\ntype MapStateToPropsType = {\n  TotalUsers:number\n  CurrentPage:number | undefined | null \n  ButtonDisabled:boolean\n}\n\ntype MapDispatchToPropsType = {\n  getUsers: (current:number,term:string | null | undefined)=> void\n}\n\ntype PropsType = MapStateToPropsType & MapDispatchToPropsType & ownPropsType\n\nconst Pagination: FC<PropsType>= ({TotalUsers, startPage, endPage, updPagesLength, \n                                  portionSize, term, CurrentPage, getUsers, ButtonDisabled, updCurrent}) => {\n    \n    \n    const MaxPagesLength = Math.ceil(TotalUsers/8)\n    const [pages, updPages] = useState<Array<number>>([])\n    \n    \n    useEffect(()=>{\n      let pagesUPD = [] as Array<number>\n      for (let i=startPage;i<=endPage;i++){\n         pagesUPD.push(i)\n     }\n     updPages(pagesUPD)\n    },[startPage,endPage])\n    \n    const Next = ()=>{\n      if (endPage<MaxPagesLength)\n      {\n        updPagesLength({startPage:startPage+portionSize,\n                     endPage:endPage+portionSize})\n                    }\n      }\n\n    const Prev = ()=>{\n      if (startPage>1){\n      updPagesLength({startPage:startPage-portionSize,\n                     endPage:endPage-portionSize})\n    }}\n\n    const onClickChangePage = (current:number) =>{\n      getUsers(current, term)\n      updCurrent(current)\n    }\n     \n\n    return (\n              <div>\n                {(startPage!=1) && <button className={style.Prev} onClick={()=>Prev()}>Prev</button>}\n                <span>{pages.filter(p => p<=MaxPagesLength)\n                            .map((p,i,arr) => arr.length>1 && <button key={p} disabled={ButtonDisabled} onClick={()=>onClickChangePage(p)} \n              className={CurrentPage === p ? style.ActivePage:style.margin}>{p}</button>)}\n                </span> \n                <span>\n                 {(endPage <= MaxPagesLength) && <button onClick={()=>Next()}>Next</button>}\n                </span>\n              </div>\n    )\n\n    }\n\n\n\n\nlet MapStateToProps = (state:AppState):MapStateToPropsType=>{\n    return {\n      TotalUsers:state.UsersPage.totalCount,\n      CurrentPage:state.UsersPage.currentPage,\n      ButtonDisabled:state.Utilits.ButtonDisabled,\n    }\n}\n\nlet MapDispatchToProps = (dispatch:Dispatch<any>):MapDispatchToPropsType=>{\n\n  return {\n    getUsers:(current:number, term:string | null | undefined)=> dispatch(getUsersThunk(current, term))\n}\n}\nexport default connect<MapStateToPropsType, MapDispatchToPropsType, ownPropsType, AppState>(MapStateToProps,MapDispatchToProps)(Pagination);\n","export default __webpack_public_path__ + \"static/media/Spinner.fee6e1db.gif\";","import spinner from './Spinner.gif'\n\nconst Preloader = ()=>{\n  return (\n    <div className='preloader'>\n    <div>\n      <img src={spinner}></img>\n    </div>\n    </div>\n  )\n}\n\n\nexport default Preloader","import style from './renderField.module.css'\r\nimport cn from 'classnames'\r\nimport { FC } from 'react'\r\nimport { WrappedFieldProps } from 'redux-form'\r\nimport { Tooltip } from 'antd'\r\n\r\ntype Props = {\r\n      type?:string | undefined\r\n      placeholder?:string |undefined\r\n}\r\n\r\nexport const renderField:FC<WrappedFieldProps & Props> = ({type, placeholder, input, meta:{error, touched}})=>{\r\n\r\n    return (\r\n    <span className={cn(style.field)}>\r\n         <Tooltip color='red' visible={touched && error? true:false} placement=\"right\" title={error}><input className={cn({[style.fieldError]:error})} {...input} type={type} placeholder={placeholder}/>\r\n         </Tooltip>\r\n    </span>\r\n    )\r\n  }\r\n","import React, { FC } from 'react';\nimport { Field, InjectedFormProps, reduxForm } from 'redux-form';\nimport { renderField } from '../Utilits/renderField';\nimport style from './Search.module.css'\n\ntype SearchValue = {\n  term:string\n}\n\nlet Search:FC<InjectedFormProps<SearchValue>> = ({handleSubmit}) => {\n\n     \n    return (\n      <div className={style.search}>\n        <form onSubmit={handleSubmit}>\n        <Field name=\"term\" component={renderField} placeholder=\"Username\"/>\n        <button type='submit'>Search</button>\n        </form>\n        </div>\n    )\n\n        }\n\n  export default reduxForm<SearchValue,unknown>({form:'search'})(Search)\n\n   ","export default \"data:image/jpeg;base64,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\"","import React, { ComponentType, Dispatch, FC, useEffect, useState } from 'react';\nimport { connect, useDispatch } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport { compose } from 'redux';\nimport WithAuthRedirect from '../../hoc/WithAuthRedirect';\nimport { actions, followThunk, getUsersThunk, unfollowThunk } from '../../Redux/UsersPage-Reducer';\nimport Pagination from '../Utilits/Pagination';\nimport Preloader from '../Utilits/preloader';\nimport Search from './Search';\nimport style from './Users.module.css'\nimport ava from './../Profile/Img/Avatar.jpg'\nimport { AppState } from '../../Redux/Store';\nimport { users } from '../../Types/Types';\nimport { NumberParam, StringParam, useQueryParam} from 'use-query-params';\n\n\ntype MapState = {\n  users: Array<users>\n  isFetching: boolean\n  isAuth: boolean\n  currentPage:number | null | undefined\n}\n\ntype MapDispatch = {\n  getUsers: (current: number | undefined | null, term: string | null | undefined ) => void\n}\n\nlet Users: FC<MapState & MapDispatch> = ({ getUsers, isFetching, users, currentPage }) => {\n\n  const [—Åurrent, updCurrent] = useQueryParam('page', NumberParam)\n\n \n  const portionSize = 10\n  const [term, updTerm] = useQueryParam('term', StringParam)\n  const [{startPage,endPage}, updPagesLength] = useState({startPage: 1,endPage:portionSize})\n\n  console.log(term)\n  useEffect(() => {\n    getUsers(—Åurrent, term)\n    updCurrent(currentPage)\n  }, [])\n  \n\n  const dispatch = useDispatch()\n\n  const search = (value: { term: string }) => {\n\n    getUsers(undefined, value.term)\n    \n    if (value.term) {\n      updTerm(value.term)\n    }\n    else \n    {\n      updTerm(undefined)\n    }\n    updPagesLength({startPage:1,endPage:portionSize})\n    dispatch(actions.ChangePageAc(1))\n    updCurrent(currentPage)\n  }\n\n  const follow = (userId: number, e: React.FormEvent<EventTarget>) => {\n    let button = e.target as HTMLInputElement\n    dispatch(followThunk(userId, button))\n  }\n\n  const unfollow = (userId: number, e: React.FormEvent<EventTarget>) => {\n    let button = e.target as HTMLInputElement\n    dispatch(unfollowThunk(userId, button))\n\n  }\n\n  return (\n    <div>\n      <div className={style.header}>\n\n        <Search onSubmit={search} initialValues={{term:term} as any}/>\n        <div className={style.Pagination}>\n        <Pagination term={term} startPage={startPage} endPage={endPage} updPagesLength={updPagesLength} portionSize={portionSize} updCurrent={updCurrent}/>\n        </div>\n      </div>\n      <div className={style.content}>\n\n        \n          \n          <div className={style.users}>\n          {isFetching ?\n            <span className={style.preloader}><Preloader /></span>\n            : users.map((u: users) =>\n\n              <div className={style.Block}>\n               \n                <span><img src={u.photos.small ? u.photos.small : ava} className={style.Avatar}></img></span>\n                <div className={style.infoUser}>\n\n                <NavLink to={'profile/' + u.id}><p className={style.userName}>{u.name}</p></NavLink>\n\n                <span className={style.elipsiss}>{u.status}</span>\n\n                {!u.followed ? <button className={style.Follow} onClick={(e) => follow(u.id, e)}>Follow</button> : \n                <button className={style.Unfollow} onClick={(e) => unfollow(u.id, e)}>Unfollow</button>}\n                \n                </div>\n              </div>\n\n\n            )}\n        </div>\n\n\n\n      </div>\n    </div>\n  )\n\n}\n\nlet MapStateToProps = (state: AppState): MapState => {\n  return {\n    users: state.UsersPage.items,\n    isFetching: state.Utilits.isFetching,\n    isAuth: state.Auth.isAuth,\n    currentPage: state.UsersPage.currentPage\n  }\n}\n\nlet MapDispatchToProps = (dispatch: Dispatch<any>): MapDispatch => {\n\n  return {\n    getUsers: (current: number | undefined | null, term: string | null | undefined) => dispatch(getUsersThunk(current, term))\n  }\n}\n\nexport default compose<ComponentType>(\n  WithAuthRedirect,\n  connect<MapState, MapDispatch, unknown, AppState>(MapStateToProps, MapDispatchToProps))(Users)\n","\r\n\r\nexport const required = (value)=>{\r\n if (value) return undefined\r\n\r\n return 'error, please fill in the required field'\r\n}\r\n\r\nexport const maxLenght = (length) =>{\r\n    \r\n\r\n    return (value)=>{\r\n    \r\n    if (value.length > length) return `error, max lenght ${length}`\r\n\r\n    return undefined\r\n    }\r\n\r\n}\r\n\r\nexport const urlValidation = (value) =>{\r\n    const myRegExp =/^(?:\\S+(?::\\S*)?@)?(?:(?!10(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?$/i;\r\n   \r\n    if (value && value.length>20){\r\n   \r\n    return 'error, max length 20'\r\n    \r\n    }\r\n    \r\n    else {\r\n\r\n        if (value && !myRegExp.test(value) ) return \"Not valid url\"\r\n        return undefined\r\n\r\n    }\r\n    \r\n\r\n    \r\n\r\n}\r\n\r\n\r\n","import { Field, reduxForm, InjectedFormProps } from \"redux-form\"\r\nimport { renderField } from \"../Utilits/renderField\"\r\nimport { maxLenght, required } from \"../Utilits/Validators\"\r\nimport style from './Loginform.module.css'\r\nimport cn from 'classnames'\r\nimport { FC } from \"react\"\r\nimport { Button } from \"antd\"\r\n\r\nconst maxLenght32 = maxLenght(32)\r\n\r\ntype OwnProps = {\r\n    captcha:string\r\n}\r\n\r\ntype LoginValues = {\r\n    email:string\r\n    password:string\r\n    rememberMe:boolean\r\n    captcha:string\r\n}\r\n\r\n const LoginForm:FC<OwnProps & InjectedFormProps<LoginValues,OwnProps>> = ({handleSubmit, captcha, ...props})=> {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n        <div className={cn(style.login, {[style.loginWcaptcha]:captcha})}>\r\n        <Field validate={[required,maxLenght32]} name=\"email\" component={renderField} placeholder=\"Username\"/>\r\n        <Field validate={required} name= \"password\" component={renderField}  placeholder=\"Password\" type='password'/>\r\n        <span className={style.RememberMe}><span>RememberMe</span><Field name= \"rememberMe\" component={renderField}  type='checkbox'/></span>\r\n        {captcha && <span className={style.captcha}><img src={captcha}></img></span>}\r\n        {captcha && <span><Field validate={[required]} name=\"captcha\" component={renderField} placeholder=\"enter captcha\"/></span>}\r\n        <button className='Button' type=\"submit\">Login</button>\r\n        </div>\r\n        <div className={style.error}>{props.error}</div>\r\n        </form>\r\n    )\r\n\r\n}\r\n\r\nexport default reduxForm<LoginValues,OwnProps>({form:'login'})(LoginForm)\r\n","import { connect } from \"react-redux\"\r\nimport { Redirect } from \"react-router-dom\"\r\nimport { LoginThunk } from \"../../Redux/Auth-Reducer\"\r\nimport Preloader from \"../Utilits/preloader\"\r\nimport LoginForm from \"./LoginForm\"\r\nimport React, { Dispatch, FC } from 'react'\r\nimport { AppState } from \"../../Redux/Store\"\r\n\r\n\r\ntype MapStateToPropsType = {\r\n    isAuth: boolean\r\n    userId: number | null\r\n    isFetching: boolean\r\n    captcha: string\r\n}\r\n\r\ntype MapDispatchToPropsType = {\r\n    Login: (values:any)=> void\r\n}\r\n\r\ntype PropsType = MapStateToPropsType & MapDispatchToPropsType\r\n\r\nconst Login:FC<PropsType> = ({ Login, isAuth, userId, isFetching, captcha }) => {\r\n    let submit = (values:any) => {\r\n        Login(values)\r\n    }\r\n\r\n    if (isAuth) return <Redirect to={'/profile/' + userId} />\r\n\r\n    if (isFetching) return <Preloader/>\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <h1>Login</h1>\r\n            </div>\r\n            <LoginForm captcha={captcha} onSubmit={submit} />\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nconst MapDispatchToProps = (dispatch:Dispatch<any>):MapDispatchToPropsType => {\r\n    return {\r\n        Login: (values:any) => dispatch(LoginThunk(values))\r\n    }\r\n}\r\n\r\nconst MapStateToProps = (state:AppState):MapStateToPropsType => {\r\n    return {\r\n        isAuth: state.Auth.isAuth,\r\n        userId: state.Auth.id,\r\n        isFetching: state.Utilits.isFetching,\r\n        captcha: state.Auth.captcha\r\n    }\r\n}\r\n\r\nconst Login_w = connect<MapStateToPropsType, MapDispatchToPropsType, {}, AppState>(MapStateToProps, MapDispatchToProps)(Login)\r\n\r\nexport default Login_w","\r\nimport { AppState, InferActions } from './Store';\r\nimport { profileAPI, response } from './../Api';\r\nimport { post, profile, profileUPD } from \"../Types/Types\"\r\nimport { ActionsUtilits, actionsUtilits } from \"./Utilits-Reducer\"\r\nimport { Dispatch } from 'redux';\r\nimport { ThunkAction, ThunkDispatch } from 'redux-thunk';\r\nimport { ResolveThunks } from 'react-redux';\r\n\r\n\r\nlet initialState = {\r\n    posts: [\r\n        { id: 1, text: 'Hi bro' },\r\n        { id: 2, text: 'dsadasdasd' },\r\n        { id: 3, text: 'dasdasdas' },\r\n        { id: 4, text: 'dsadasdsa' },\r\n        { id: 5, text: 'dsadasdsa' },\r\n        { id: 6, text: 'dsadasdsa' },\r\n        { id: 7, text: 'dsadasdsa' },\r\n        { id: 8, text: 'dsadasdsa' },\r\n    ] as Array<post>,\r\n    messageText: 'Hello',\r\n    profile:\r\n    {\r\n        aboutMe: '',\r\n        contacts: {\r\n            facebook: null,\r\n            website: null,\r\n            vk: null,\r\n            twitter: null,\r\n            instagram: null,\r\n            youtube: null,\r\n            github: null,\r\n            mainLink: null\r\n        },\r\n        lookingForAJob: false,\r\n        lookingForAJobDescription: null,\r\n        fullName: '',\r\n        userId: -1,\r\n        photos: {\r\n            small: null,\r\n            large: null,\r\n        }\r\n    } as profile,\r\n    status: ''\r\n}\r\n\r\ntype initialStateType = typeof initialState\r\n\r\nexport default function ProfilePageReducer(state:initialStateType = initialState, action: ActionsProfile):initialStateType {\r\n    switch (action.type) {\r\n        case 'SET-STATE-PROFILE':\r\n            return {\r\n                ...state,\r\n                profile: { ...action.data }\r\n            }\r\n        case 'SET-STATUS':\r\n            return {\r\n                ...state,\r\n                status: action.data\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport type ActionsProfile = InferActions<typeof actions>\r\n\r\nconst actions = {\r\n    SetStateProfileAc: (data:profile) => {\r\n        return {\r\n            type: 'SET-STATE-PROFILE',\r\n            data\r\n        } as const\r\n    },\r\n    \r\n    SetStatusAc: (data:string) => {\r\n        return {\r\n            type: 'SET-STATUS',\r\n            data\r\n        } as const\r\n    },\r\n\r\n}\r\n\r\n\r\n\r\nexport const getProfileThunk = (user:number | null) => {\r\n\r\n    return (dispatch:Dispatch<ActionsUtilits | ActionsProfile>) => {\r\n        profileAPI.getProfile(user)\r\n            .then(data => dispatch(actions.SetStateProfileAc(data)))\r\n    }\r\n\r\n}\r\n\r\nexport const getStatusThunk = (user:number) => {\r\n    return (dispatch:Dispatch<ActionsUtilits | ActionsProfile>) => {\r\n        profileAPI.getStatus(user).\r\n            then(data => dispatch(actions.SetStatusAc(data)))\r\n    }\r\n}\r\n\r\nexport const sendStatusThunk = (StatusText:string, user:number | null) => {\r\n    return (dispatch:Dispatch<ActionsUtilits | ActionsProfile>) => {\r\n        profileAPI.updStatus(StatusText)\r\n            .then(() => profileAPI.getStatus(user).then(data => dispatch(actions.SetStatusAc(data))))\r\n    }\r\n}\r\n\r\nexport const updProfileThunk = (data:profileUPD, user:number | null) => {\r\n\r\n    return (dispatch:Dispatch<ActionsUtilits | ActionsProfile| any>) => {\r\n        return new Promise((resolve, reject) => {\r\n            dispatch(actionsUtilits.isFetchingAc(true))\r\n            profileAPI.updAboutMe(data)\r\n                .then(data => {\r\n                    dispatch(getProfileThunk(user))\r\n                    resolve(data)\r\n                })\r\n                .catch(data => reject(data))\r\n                .then(() => dispatch(actionsUtilits.isFetchingAc(false)))\r\n        })\r\n    }\r\n\r\n}\r\n\r\nexport type updWithPromise = typeof updProfilePhotoThunk\r\n\r\nexport type ThunkType = ThunkAction<Promise<any>,AppState,unknown, ActionsProfile>\r\n\r\nexport const updProfilePhotoThunk = (photo:File, user:number | null) => {\r\n    return (dispatch:Dispatch<ActionsUtilits | ActionsProfile | any > ) => {\r\n        return new Promise(async (resolve) => {\r\n            try {\r\n                dispatch(actionsUtilits.isFetchingAc(true))\r\n                const data = await profileAPI.updPhoto(photo)\r\n                dispatch(getProfileThunk(user))\r\n                resolve(data)\r\n            }\r\n            catch (error:any) {\r\n                window.alert(error.response.status)\r\n            }\r\n            finally {\r\n                dispatch(actionsUtilits.isFetchingAc(false))\r\n            }\r\n\r\n        })\r\n\r\n    }\r\n}","import React, { Dispatch, FC, useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { sendStatusThunk } from '../../../Redux/ProfilePage-Reducer';\nimport { AppState } from '../../../Redux/Store';\nimport style from './Status.module.css'\n\n\ntype MapStateToPropsType = {\n  userId: number | null\n  status: string\n}\ntype MapDispatchToPropsType = {\n  updStatus:(statusText:string,userId:number | null)=>void\n}\ntype OwnProps = {\n  isOwner:boolean\n}\nconst Status:FC<MapStateToPropsType & OwnProps & MapDispatchToPropsType> = React.memo( ({userId,status, updStatus, isOwner})=> {\n  const [ChangeOfStatus, setStatus] = useState(false)\n  const [StatusText, setStatusText] = useState(status)\n\n\n  const StatusActive = ()=>{\n   \n   setStatus(true)\n  }\n  \n  useEffect(()=>{\n    setStatusText(status)\n  },[status])\n\n  const StatusDisabled = ()=>{\n    setStatus(false)\n    updStatus(StatusText,userId)\n    \n  }\n\n  const ChangeStatus = (event:any) => {\n    if (event.target.value.length < 30) {\n   setStatusText(event.target.value)\n  }\n  }\n\n  return (\n<div className={style.status}>\n{isOwner ? !ChangeOfStatus ?<span onDoubleClick={StatusActive}>{status?status:<span className={style.notStatus}>(status not set)</span>}</span>:\n              <input style={{textAlign:'center'}} onChange={ChangeStatus} onBlur={StatusDisabled} autoFocus={true} value={StatusText}></input>:status?status:<span className={style.notStatus}>(status not set)</span>}\n              {isOwner && <p>(double click to update status)</p>}\n</div>\n  )\n}\n)\n\nconst MapStateToProps = (state:AppState):MapStateToPropsType=>{\n  return{\n    userId:state.Auth.id,\n    status:state.ProfilePage.status\n  }\n}\n\nconst MapDispatchToProps = (dispatch:Dispatch<any>):MapDispatchToPropsType =>{\n  return {\n    updStatus:(statusText,user)=>dispatch(sendStatusThunk(statusText,user))\n  }\n}\n\nexport default connect<MapStateToPropsType,MapDispatchToPropsType,OwnProps,AppState>(MapStateToProps,MapDispatchToProps)(Status)\n","import React, { FC } from 'react';\nimport { contacts, profile } from '../../../Types/Types';\nimport style from './AboutMe.module.css'\n\n\ntype CustomProps = {\n  profile:profile\n}\n\nconst AboutMe: FC<CustomProps> = ({profile})=> {\n  \n  return (\n    <div className={style.AboutMe}>\n    <ul>\n    <li><span>About Me:</span>{profile.aboutMe}</li>\n    <li><span>Looking for a job:</span>{profile.lookingForAJob?\"yes\":\"no\"}</li>\n    <li><span>Description:</span>{profile.lookingForAJobDescription}</li>\n    <Contacts contacts={profile.contacts}/>\n    </ul>\n   </div>\n  )\n}\n\ntype CustomPropsForContacts = {\n  contacts:contacts\n  \n}\n\nconst Contacts: FC<CustomPropsForContacts> = ({contacts})=>{\n  return(\n    <div>\n       {Object.keys(contacts).map((key) => contacts[key as keyof contacts] && <div><span>{key as keyof contacts}:</span><a href={'https://'+contacts[key as keyof contacts]}>{contacts[key as keyof contacts]}</a></div>)}\n    </div>\n  )\n}\n\nexport default AboutMe","import React, { FC } from 'react';\nimport { Field, InjectedFormProps, reduxForm } from 'redux-form';\nimport { profile, profileUPD } from '../../../Types/Types';\nimport Preloader from '../../Utilits/preloader';\nimport { renderField } from '../../Utilits/renderField';\nimport { maxLenght, required, urlValidation } from '../../Utilits/Validators';\nimport style from './EditAboutMe.module.css'\n\nconst maxLenght20 = maxLenght(20)\nconst maxLenght50 = maxLenght(50)\n\ntype ownProps = {\n  closeAboutMe:()=>void\n  isFetching:boolean\n  profile:profile\n}\nconst EditAboutMe:FC<ownProps & InjectedFormProps<profileUPD,ownProps>>= ({profile, handleSubmit, closeAboutMe, isFetching})=> {\n\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className={style.aboutMe}>\n      <Field validate={[required, maxLenght20]} name='fullName' placeholder='Full name' component={renderField} type='text'/>\n      <Field validate={[required, maxLenght50]} name='aboutMe' placeholder='About me' component={renderField} type='text'/>\n      <span className={style.LookingForAjob}><span style={{marginRight:'10px'}}>looking For A Job:</span><Field name='lookingForAJob' component={renderField} type='checkbox'/></span>\n      <Field validate={[required, maxLenght50]} name='lookingForAJobDescription' placeholder='Description' component={renderField} type='text'/>\n      \n      {Object.keys(profile.contacts).map(key => <Field validate={urlValidation} key={key} name={'contacts.'+key} placeholder={key}  component={renderField} type='text'/>)}\n      \n      {isFetching ? <Preloader/> :\n      <div className={style.buttons}>\n      <button type='submit'>Save</button>\n      <button onClick={closeAboutMe}>Close</button>\n      </div>}\n      </div>\n   </form>\n  )\n}\n\n  \n\nexport default reduxForm<profileUPD,ownProps>({form:\"edit-aboutMe\"})(EditAboutMe)","import React, { Dispatch, FC, useState } from 'react';\r\nimport style from './Modal.module.css'\r\nimport cn from 'classnames'\r\nimport { connect } from 'react-redux';\r\nimport { updProfilePhotoThunk } from '../../../Redux/ProfilePage-Reducer';\r\nimport Preloader from '../../Utilits/preloader'\r\nimport { AppState } from '../../../Redux/Store';\r\nimport { response } from '../../../Api';\r\nimport { ThunkDispatch } from 'redux-thunk';\r\n\r\ntype CustomProps = {\r\n    modal:boolean\r\n    updModal:(arg:boolean)=>void\r\n}\r\n\r\ntype MapStateToPropsType = {\r\n    userId:number | null\r\n    isFetching:boolean\r\n}\r\n\r\ntype MapDispatchToPropsType = {\r\n    updProfilePhoto:(photo:File,user:number | null)=> any\r\n}\r\n\r\nconst Modal:FC<CustomProps & MapStateToPropsType & MapDispatchToPropsType> = ({modal, updModal, userId,updProfilePhoto, isFetching})=> {\r\n  \r\n    const photo = React.createRef() as any\r\n    const [errMsg, updErrMsg] = useState([] as Array<string>)\r\n\r\n    const changePhoto = ()=> {\r\n    \r\n        let formData = new FormData();\r\n        formData.append('image', photo.current.files[0])\r\n        updProfilePhoto(formData as any, userId)\r\n        .then((data:response)=>{\r\n            if (data.resultCode == 0)\r\n            {\r\n                updModal(false)\r\n            }\r\n             updErrMsg(data.messages) \r\n        })\r\n        \r\n    }\r\n\r\n    const closeModal = ()=>{\r\n        updModal(false)\r\n        updErrMsg([]) \r\n    }\r\n\r\n  return (\r\n    <div className={modal ? cn(style.Modal, style.ModalActive):style.Modal}>\r\n    <div className={modal ? cn(style.ModalContent, style.ModalContentActive):style.ModalContent}>\r\n     {isFetching ? <Preloader/>: \r\n     <div className={style.content}>\r\n            <input ref={photo} type=\"file\"/>\r\n            <span>{errMsg}</span>\r\n            <div className={style.buttons}>\r\n            <button onClick={changePhoto}>Accept</button>\r\n            <button onClick={closeModal}>Close</button>\r\n            </div>\r\n            \r\n     </div>}\r\n     \r\n     </div>\r\n     </div>\r\n  )\r\n}\r\n\r\n\r\nconst MapStateToProps = (state:AppState):MapStateToPropsType=>{\r\n    return {\r\n    userId:state.Auth.id,\r\n    isFetching:state.Utilits.isFetching\r\n    }\r\n}\r\n\r\nconst MapDispatchToProps = (dispatch:Dispatch<any>):MapDispatchToPropsType =>{\r\n    return {\r\n        updProfilePhoto:(photo:File,user:number | null)=>dispatch(updProfilePhotoThunk(photo,user))\r\n    }\r\n}\r\n\r\nexport default connect< MapStateToPropsType, MapDispatchToPropsType, CustomProps, AppState>(MapStateToProps,MapDispatchToProps)(Modal)","import style from './ProfileInfo.module.css'\nimport Ava from '../Img/Avatar.jpg'\nimport { FC, useEffect, useState } from 'react';\nimport Status from './Status';\nimport AboutMe from './AboutMe';\nimport EditAboutMe from './EditAboutMe';\nimport Modal from './Modal';\nimport { profile, profileUPD } from '../../../Types/Types';\nimport { response } from '../../../Api';\n\ntype CustomProps = {\n\n  profile:profile\n  updProfile: (data:profileUPD, userId:number | null)=> any\n  isFetching: boolean\n  userId: number | null\n}\n\n const ProfileInfo:FC<CustomProps> = ({ profile, updProfile, isFetching, userId})=> {\n\n  const [editMod, updEditMode] = useState(false)\n  const [modal, updModal] = useState(false)\n  const [isOwner, updOwner] = useState(false)\n  const editModeActive = () => {\n    updEditMode(true)\n  }\n\n  useEffect(()=>{\n          if (profile.userId === userId) {\n            updOwner(true)\n          }\n          else updOwner(false)\n  },[profile.userId])\n\n  const saveAboutMe = (data:any) => {\n    updProfile(data, profile.userId)\n    .then((data:response)=>{\n     if (data.resultCode == 0)\n     {\n      updEditMode(false)\n     }\n    })\n    .catch((error:any)=>{\n        alert (error.response) \n    })\n  }\n\n  return (\n    \n   <div>\n     <Modal modal={modal} updModal={updModal}/>\n    <div className={style.Profile}>\n     \n  \n      <div className={style.Avatar}>\n        <h2>{profile.fullName}</h2>\n        <div className={style.ImageSettings}>\n             \n             {isOwner && <svg className={style.svg} onClick={()=>updModal(true)} width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n             <title>–ò–∑–º–µ–Ω–∏—Ç—å —Ñ–æ—Ç–æ</title>\n             <path d=\"M13.325 15.775a4 4 0 1 1 1.662-1.114l1.314 1.843a5.267 5.267 0 0 1 2.289.236l1.058-1.765c-2.153-1.683-2.19-4.248 0-5.95l-1.05-1.75C15.9 8.248 13.522 6.864 13.076 4h-2.15C10.48 6.833 8.127 8.263 5.4 7.276l-1.05 1.75c2.154 1.682 2.19 4.247.001 5.95l1.05 1.75c2.699-.974 5.077.41 5.523 3.274H14a1 1 0 0 1 0 2h-4a1 1 0 0 1-1-1c0-2.344-1.5-3.217-3.524-2.12a1 1 0 0 1-1.334-.366l-2-3.335a1 1 0 0 1 .382-1.393c1.956-1.06 1.927-2.528 0-3.572a1 1 0 0 1-.382-1.393l2-3.335a1 1 0 0 1 1.334-.365C7.524 6.23 9 5.318 9 3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1c0 2.344 1.5 3.217 3.524 2.12a1 1 0 0 1 1.334.366l2 3.335a1 1 0 0 1-.382 1.393c-1.956 1.06-1.927 2.528 0 3.572a1 1 0 0 1 .382 1.393l-2 3.335a1 1 0 0 1-1.334.365c-.734-.397-1.664-.525-2.356-.307a1 1 0 0 1-1.115-.373l-1.728-2.424zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z\"/>\n             </svg>}\n        <img src={profile.photos.large == null ? Ava : profile.photos.large}></img>\n        </div>\n        <Status isOwner={isOwner}/>\n      </div>\n      <div className={style.AboutMe}>\n        {!editMod ? <AboutMe profile={profile} /> : <EditAboutMe isFetching={isFetching} closeAboutMe={()=>updEditMode(false)} initialValues={profile} profile={profile} onSubmit={saveAboutMe} />}\n        {!editMod && isOwner && <button className={style.editButton} onClick={editModeActive}>Edit profile</button>}\n      </div>\n    </div>\n    </div>\n  )\n}\n\nexport default ProfileInfo\n\n","import style from './Profile.module.css'\nimport React, { ComponentType, Dispatch } from 'react';\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\nimport { connect } from 'react-redux';\nimport { withRouter, RouteComponentProps, RouteProps} from 'react-router-dom';\nimport { getProfileThunk, getStatusThunk, updProfileThunk } from '../../Redux/ProfilePage-Reducer';\nimport { compose } from 'redux';\nimport WithAuthRedirect from '../../hoc/WithAuthRedirect';\nimport { profile, profileUPD } from '../../Types/Types';\nimport { AppState } from '../../Redux/Store';\n\n\ntype MapStateToPropsType = {\n  profile: profile\n  Status: string\n  isFetching: boolean\n  userId: number | null\n}\n\ntype MapDispatchToPropsType = {\n  setStateProfile:(user:number)=> void\n  getStatus:(user:number)=> void\n  updProfile:(data: profileUPD, user:number | null)=> void\n}\n\n\ntype withRouterProps = {\n  userID:string \n}\n\ntype PropsType = MapStateToPropsType & MapDispatchToPropsType & RouteComponentProps<withRouterProps>\n\nclass Profile extends React.Component<PropsType> {\n\n   \n  setProfile (user:number) { \n    this.props.setStateProfile(user)\n    this.props.getStatus(user)\n  }\n\n  componentDidMount(){\n   this.setProfile(parseInt(this.props.match.params.userID))}\n  \n  \n  componentDidUpdate(prevProps:PropsType){\n    if (this.props.match.params.userID != prevProps.match.params.userID)\n    {this.setProfile(parseInt(this.props.match.params.userID))}\n\n  }\n\n  render (){\n    return(\n    <div>\n      <ProfileInfo userId={this.props.userId} profile={this.props.profile} updProfile={this.props.updProfile} isFetching={this.props.isFetching}/>\n    </div>\n    )\n  }\n}\n\nlet MapDispatchToProps = (dispatch:Dispatch<any>):MapDispatchToPropsType=>{\nreturn {\n  setStateProfile:(user:number)=>dispatch(getProfileThunk(user)),\n  getStatus:(user:number)=>dispatch(getStatusThunk(user)),\n  updProfile:(data:profileUPD,user:number | null)=>dispatch(updProfileThunk(data,user))\n}\n\n}\nlet MapStateToProps = (state:AppState):MapStateToPropsType=>{\n  return {\n    profile: state.ProfilePage.profile,\n    Status: state.ProfilePage.status,\n    isFetching: state.Utilits.isFetching,\n    userId: state.Auth.id\n  }\n}\n\nexport default compose<ComponentType>(\n  WithAuthRedirect,\n  withRouter,\n  connect<MapStateToPropsType,MapDispatchToPropsType,unknown,AppState>(MapStateToProps,MapDispatchToProps)\n)(Profile) \n","import { InferActions } from \"./Store\"\r\n\r\ntype message = {\r\n    userId:number\r\n    userName:string\r\n    message:string\r\n    photo: null | string\r\n}\r\n\r\nconst initialState = {\r\n    items:[] as Array<message>\r\n}\r\n\r\ntype InitialState = typeof initialState\r\n\r\nconst INITCHAT = 'INIT-CHAT'\r\nconst NULLCHAT = 'NULL-CHAT'\r\n\r\nconst chatReducer = (state=initialState, action:Actions):InitialState=>{\r\n    switch(action.type)\r\n    { \r\n       case INITCHAT:\r\n           return{\r\n               ...state,\r\n               items:[...state.items,...action.payload]\r\n           }\r\n           \r\n        case NULLCHAT:\r\n        return{\r\n                ...state,\r\n                items:[]\r\n         }   \r\n       default: \r\n           return state\r\n    }\r\n\r\n}\r\n\r\ntype Actions = InferActions<typeof actions>\r\n\r\nexport const actions = {\r\n   initchatAC: (payload:any)=>{\r\n    return {\r\n        type:INITCHAT,\r\n        payload\r\n    } as const\r\n   },\r\n   nullchatAC: ()=>{\r\n    return {\r\n        type:NULLCHAT,\r\n    } as const\r\n   }\r\n}\r\n\r\n\r\n\r\nexport default chatReducer","import { AppState } from \"../../Redux/Store\";\r\n\r\nexport const getChat = (state:AppState) => state.Chat\r\n\r\nexport const getMyId = (state:AppState)=> state.Auth.id","import { useEffect, useLayoutEffect, useRef, useState } from \"react\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { actions } from \"../../Redux/Chat-Reducer\"\r\nimport Preloader from \"../Utilits/preloader\"\r\nimport { getChat, getMyId } from \"../Utilits/Selectors\"\r\nimport { CloseOutlined, WechatOutlined } from '@ant-design/icons'\r\n\r\n\r\n\r\nconst Chat = () => {\r\n\r\n\r\n    const MessagesElement = useRef<HTMLDivElement | null>(null)\r\n\r\n    const InitialMessages = (response: any) => {\r\n        dispatch(actions.initchatAC(JSON.parse(response.data)))\r\n        MessagesElement.current?.scrollIntoView()\r\n    }\r\n\r\n  \r\n    const [message, updMessage] = useState('')\r\n    const [buttonDisabled, updButtonDisabled] = useState(true)\r\n    const [isFetching, updIsFetching] = useState(true)\r\n    const [isFetchingSend, updIsFetchingSend] = useState(false)\r\n    const [isChatting, updChatting] = useState(false)\r\n    const dispatch = useDispatch()\r\n    const chat = useSelector(getChat)\r\n    const myId = useSelector(getMyId)\r\n\r\n    useEffect(() => {\r\n        const chatWS = new WebSocket('wss://social-network.samuraijs.com/handlers/ChatHandler.ashx')\r\n        chatWS.onopen = () => {\r\n            updButtonDisabled(false)\r\n            updIsFetching(false)\r\n        }\r\n        chatWS.addEventListener('message', InitialMessages)\r\n        return () => {\r\n            dispatch(actions.nullchatAC())\r\n            chatWS.removeEventListener('message', InitialMessages)\r\n        }\r\n    }, [])\r\n\r\n\r\n    const sendMessage = () => {\r\n        if (message) {\r\n            updIsFetchingSend(true)\r\n            const chatWS = new WebSocket('wss://social-network.samuraijs.com/handlers/ChatHandler.ashx')\r\n            chatWS.onopen = () => {\r\n                chatWS.send(message)\r\n                updMessage('')\r\n                updIsFetchingSend(false)\r\n\r\n            }\r\n        }\r\n    }\r\n\r\n\r\n    return (\r\n\r\n        <div className='Chat_wrapper'>\r\n            {!isChatting ? <div className='Chat_icon'><WechatOutlined style={{ fontSize: '50px' }} onClick={() => updChatting(true)} /></div> :\r\n                <div className='Chat'>\r\n           \r\n                    <div className='Chat_title'><h2>Online chat</h2><span><CloseOutlined onClick={() => updChatting(false)} /></span></div>\r\n                    <div className='Messages_container'>\r\n                        {isFetching ? <Preloader /> : <div className='Chat_messages'>\r\n                            {chat.items.map(u =>u.userId == myId?\r\n                            <span className='Chat_message'>\r\n                              <div className='myMessage_container'><span>{u.userName}</span><img src={u.photo as string | undefined}></img></div>\r\n                                <div className='myMessage'>\r\n                                    <div className='myMessage_background'>\r\n                                    <span>{u.message}</span>\r\n                                    </div>\r\n                                    </div>\r\n                            </span>\r\n                            :\r\n                                <span className='Chat_message'>\r\n                                   <span style={{marginRight:'10px'}}><img src={u.photo as string | undefined}></img></span><span className='userName'>{u.userName}</span>\r\n                                    <div className='message'>\r\n                                    <div className='message_background'>\r\n                                        <span>{u.message}</span>  \r\n                                        </div>\r\n                                        </div>\r\n                                </span>\r\n                            )}\r\n\r\n                        </div>}\r\n                        <div ref={MessagesElement}></div>\r\n                    </div>\r\n\r\n                    <div className='Chat_footer'><input onChange={(e) => { updMessage(e.target.value) }} value={message}></input>\r\n                        {isFetchingSend ? <Preloader /> : ''}\r\n                        <button disabled={buttonDisabled} onClick={sendMessage}>send</button></div>\r\n                </div>}\r\n        </div>\r\n\r\n    )\r\n\r\n}\r\n\r\nexport default Chat","import Nav from \"./Components/Navigation/Nav\";\nimport Menu from \"./Components/Menu/Menu\";\nimport Dialogs from \"./Components/Dialogs/Dialogs\";\nimport { BrowserRouter, Route, Switch, Redirect, HashRouter} from \"react-router-dom\";\nimport Users from \"./Components/Users/Users\";\nimport Login from \"./Components/Login/Login\";\nimport { connect } from \"react-redux\";\nimport { AuthThunk} from \"./Redux/Auth-Reducer\";\nimport { Dispatch, FC, useEffect } from 'react'\nimport Preloader from \"./Components/Utilits/preloader\";\nimport { AppState } from \"./Redux/Store\";\nimport Profile from \"./Components/Profile/Profile\";\nimport { Layout } from \"antd\";\nimport 'antd/dist/antd.css';\nimport Chat from \"./Components/Chat/Chat\";\nimport { QueryParamProvider } from 'use-query-params';\n\nconst { Header, Content, Footer, Sider } = Layout;\n\ntype MapStateToPropsType = {\n  initApp:boolean\n    userId:number | null\n    isAuth:boolean\n}\n\ntype MapDispatchToPropsType = {\n  Auth:()=> void\n}\n\n\nlet App:FC<MapStateToPropsType & MapDispatchToPropsType> = ({Auth,initApp,userId,isAuth})=> {\n\n   useEffect(()=>{\n     \n     Auth()\n    \n   },[userId])\n  \n    if (initApp) return <Preloader/>\n    \n\n    return(\n      <HashRouter>\n      <QueryParamProvider ReactRouterRoute={Route}>\n      <div className='container'>\n      \n<Layout style={{backgroundColor:'#f5f5f5'}}>\n\n    <Header style={{height:'100px', backgroundColor: '#5d8aa8',\n  boxShadow: '0px 5px 5px grey', marginBottom:'20px'}}>\n    <Nav />\n    </Header>\n    <Layout style={{backgroundColor:'#f5f5f5'}} >\n      <Sider className='Menu'>\n      <Menu />\n      </Sider>\n      <Layout style={{ padding: '0 24px 24px',backgroundColor:'#f5f5f5' }}>\n        <Content style={{ padding: '50px'}}>\n          <Switch>\n      <Redirect exact path={'/'} to={'/profile/'+ userId}/>\n      <Redirect exact path={'/profile/'} to={'/profile/'+ userId}/>\n      <Route path='/profile/:userID' render={()=> <Profile/>}/>\n      <Route path='/users' render={()=> <Users/>}/>\n      <Route path='/login' render={()=> <Login/>}/>\n      </Switch>\n        </Content>\n      </Layout>\n    </Layout>\n    \n  </Layout>\n  {isAuth && <Chat/>}\n </div>\n </QueryParamProvider>\n    </HashRouter>\n    \n    )\n}\n\n\nconst MapDispatchToProps = (dispatch:Dispatch<any>):MapDispatchToPropsType => {\n return {\n   Auth:()=>dispatch(AuthThunk)\n }\n}\n\nconst MapStateToProps = (state:AppState):MapStateToPropsType => {\n  return {\n    initApp:state.Auth.initApp,\n    userId:state.Auth.id,\n    isAuth:state.Auth.isAuth\n  }\n }\n\n export default connect<MapStateToPropsType, MapDispatchToPropsType, {}, AppState>(MapStateToProps,MapDispatchToProps)(App)\n\n\n ","let init = {\r\n  dialogs: [\r\n    {\r\n      id: 1,\r\n      nameDialog: 'Omar',\r\n      messages: [{ id: 1, text: 'hi, omar' }, { id: 2, text: 'hi, oleg' }]\r\n    },\r\n    {\r\n      id: 2,\r\n      nameDialog: 'Sergey',\r\n      messages: [{ id: 1, text: 'hi, vcxvcxv' }, { id: 2, text: 'hi, vcxvcxv' }]\r\n    },\r\n    {\r\n      id: 3,\r\n      nameDialog: 'Lev',\r\n      messages: [{ id: 1, text: 'hi, eqwewqe' }, { id: 2, text: 'hi, dsadsad' }]\r\n    },\r\n  ],\r\n  activeDialog: {\r\n    id: 0,\r\n    nameDialog: '',\r\n    messages: []\r\n  },\r\n  textMessage: '',\r\n}\r\n\r\nexport default function DialogPageReducer(state = init, action) {\r\n  switch (action.type) {\r\n\r\n    case 'CHANGE-DIALOG':\r\n      return {\r\n        ...state,\r\n        activeDialog: action.dialog\r\n      }\r\n\r\n    case 'SEND-MESSAGE':\r\n      debugger\r\n      if (state.activeDialog.id === 0) {\r\n        alert('–û—Ç–∫—Ä–æ–π—Ç–µ –¥–∏–∞–ª–æ–≥')\r\n      }\r\n      else {\r\n        let dialogId = state.dialogs.findIndex(item => item.id === state.activeDialog.id);\r\n        let newMessage = { id: 1, text: state.textMessage };\r\n        let copystate = Object.assign({}, state)\r\n        copystate.dialogs[dialogId].messages.push(newMessage);\r\n        copystate.textMessage = '';\r\n\r\n        return copystate;\r\n      }\r\n      return state;\r\n    case 'UPD-TEXT-MESSAGE':\r\n      return {\r\n        ...state,\r\n        textMessage: action.text\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n","import { applyMiddleware, combineReducers, createStore } from \"redux\";\r\nimport ProfilePageReducer from \"./ProfilePage-Reducer\"\r\nimport DialogPageReducer from \"./DialogPage-Reducer\"\r\nimport UsersPageReducer from \"./UsersPage-Reducer\";\r\nimport thunk from \"redux-thunk\";\r\nimport AuthReducer from \"./Auth-Reducer\";\r\nimport { reducer } from \"redux-form\";\r\nimport UtilitsReducer from \"./Utilits-Reducer\";\r\nimport chatReducer from \"./Chat-Reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    ProfilePage: ProfilePageReducer,\r\n    DialogPage: DialogPageReducer,\r\n    UsersPage: UsersPageReducer,\r\n    Auth: AuthReducer,\r\n    form:reducer,\r\n    Utilits: UtilitsReducer,\r\n    Chat: chatReducer\r\n})\r\n\r\ntype reducers = typeof reducers\r\nexport type AppState = ReturnType<reducers>\r\n\r\ntype ActionTypes<T> = T extends { [key: string]: infer U } ? U : never\r\nexport type InferActions<T extends {[key:string]:(...args:any[])=>any}> = ReturnType<ActionTypes<T>>\r\n\r\nlet store = createStore(reducers,applyMiddleware(thunk));\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport store from './Redux/Store';\n\n\nReactDOM.render(\n  <Provider store={store}><App/></Provider>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"Modal_Modal__aKK59\",\"ModalContent\":\"Modal_ModalContent__1qs3m\",\"ModalActive\":\"Modal_ModalActive__1Jc0N\",\"ModalContentActive\":\"Modal_ModalContentActive__1m8lc\",\"buttons\":\"Modal_buttons__10Sn3\",\"content\":\"Modal_content__1GZMd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Profile\":\"ProfileInfo_Profile__20Qw0\",\"Avatar\":\"ProfileInfo_Avatar__36Y6s\",\"svg\":\"ProfileInfo_svg__Kqr2G\",\"ImageSettings\":\"ProfileInfo_ImageSettings__1LWCf\",\"AboutMe\":\"ProfileInfo_AboutMe__3LkfG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Loginform_login__2smEb\",\"loginWcaptcha\":\"Loginform_loginWcaptcha__V2_oo\",\"captcha\":\"Loginform_captcha___WOOU\",\"error\":\"Loginform_error__1nXd0\",\"RememberMe\":\"Loginform_RememberMe__3fdBQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Menu\":\"Menu_Menu__3jIS2\",\"Active\":\"Menu_Active__3xzro\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"margin\":\"Pagination_margin__3Kk3l\",\"ActivePage\":\"Pagination_ActivePage__1Shtx\",\"Prev\":\"Pagination_Prev__3HpIC\"};"],"sourceRoot":""}