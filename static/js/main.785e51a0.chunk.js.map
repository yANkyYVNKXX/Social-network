{"version":3,"sources":["Components/Utilits/renderField.module.css","Components/Dialogs/Dialogs.module.css","Components/Users/Search.module.css","Components/Profile/ProfileInfo/AboutMe.module.css","Components/Dialogs/Messages/Messages.module.css","Components/Users/Users.module.css","Components/Navigation/Img/logo.png","Api.ts","Redux/Utilits-Reducer.ts","Redux/Auth-Reducer.ts","Components/Navigation/Nav.tsx","Components/Menu/Menu.tsx","Components/Dialogs/Messages/Messages.js","Components/Dialogs/Dialogs.js","hoc/WithAuthRedirect.tsx","Redux/UsersPage-Reducer.ts","Components/Utilits/Pagination.tsx","Components/Utilits/Spinner.gif","Components/Utilits/preloader.jsx","Components/Utilits/renderField.tsx","Components/Users/Search.tsx","Components/Profile/Img/Avatar.jpg","Components/Utilits/calculateStartPage.js","Components/Users/Users.tsx","Components/Utilits/Validators.js","Components/Login/LoginForm.tsx","Components/Login/Login.tsx","Redux/ProfilePage-Reducer.ts","Components/Profile/ProfileInfo/Status.tsx","Components/Profile/ProfileInfo/AboutMe.tsx","Components/Profile/ProfileInfo/EditAboutMe.tsx","Components/Profile/ProfileInfo/Modal.tsx","Components/Profile/ProfileInfo/ProfileInfo.tsx","Components/Profile/Profile.tsx","Redux/Chat-Reducer.ts","Components/Utilits/Selectors.ts","Components/Chat/Chat.tsx","App.tsx","Images/burgerIcon.png","Redux/DialogPage-Reducer.js","Redux/Store.ts","index.js","Components/Profile/ProfileInfo/Modal.module.css","Components/Menu/Menu.module.css","Components/Profile/ProfileInfo/ProfileInfo.module.css","Components/Utilits/Pagination.module.css","Components/Login/Loginform.module.css","Components/Navigation/Nav.module.css","Components/Profile/ProfileInfo/Status.module.css","Components/Profile/ProfileInfo/EditAboutMe.module.css"],"names":["module","exports","instance","axios","create","withCredentials","baseURL","headers","usersAPI","current","term","get","userId","post","delete","profileAPI","user","then","response","data","status","put","photo","AuthAPI","email","password","rememberMe","captcha","securityAPI","initialState","ButtonDisabled","isFetching","FETCHING","BUTTONSDISABLED","actionsUtilits","type","ISAUTH","INITAPP","CAPTCHA","id","login","isAuth","initApp","AuthReducer","state","action","url","actions","AuthThunk","dispatch","a","resultCode","LogoutThunk","connect","Auth","UserName","Logout","className","style","Nav","Logo","src","logo","onClick","to","placeholder","UserId","Menu","activeClassName","Active","messages","props","text","Dialogs_w","dialogs","DialogPage","activeDialog","textMessage","ChangeDialog","SendMessage","UpdateText","ElementTextArea","React","createRef","Content","map","obj","dialog","nameDialog","ref","onChange","value","WithAuthRedirect","Component","FOLLOW","UNFOLLOW","SETUSERS","CHANGEPAGE","items","totalCount","currentPage","followed","getUsersThunk","undefined","TotalUsers","UsersPage","CurrentPage","Utilits","getUsers","startPage","endPage","updPagesLength","portionSize","updCurrent","MaxPagesLength","Math","ceil","useState","pages","updPages","useEffect","pagesUPD","i","push","pagination","Prev","filter","p","arr","length","disabled","ActivePage","margin","Preloader","spinner","renderField","input","meta","error","touched","cn","field","color","visible","placement","title","fieldError","reduxForm","form","handleSubmit","search","onSubmit","Field","name","component","calculateStartPage","cur","toFixed","res","toString","split","slice","join","Number","compose","users","useQueryParam","NumberParam","сurrent","StringParam","updTerm","useDispatch","follow","e","button","target","catch","alert","finally","followThunk","unfollow","unfollowThunk","header","initialValues","Pagination","content","preloader","u","Block","photos","small","ava","Avatar","infoUser","userName","elipsiss","Unfollow","Follow","required","maxLenght","urlValidation","test","maxLenght32","loginWcaptcha","validate","RememberMe","Login_w","Login","values","stopSubmit","_error","LoginThunk","posts","messageText","profile","aboutMe","contacts","facebook","website","vk","twitter","instagram","youtube","github","mainLink","lookingForAJob","lookingForAJobDescription","fullName","large","getProfileThunk","Status","memo","updStatus","isOwner","ChangeOfStatus","setStatus","StatusText","setStatusText","textAlign","event","onBlur","autoFocus","onDoubleClick","notStatus","ProfilePage","statusText","sendStatusThunk","Contacts","Object","keys","key","href","AboutMe","maxLenght20","maxLenght50","closeAboutMe","LookingForAjob","marginRight","buttons","updProfilePhoto","Promise","resolve","window","updProfilePhotoThunk","modal","updModal","errMsg","updErrMsg","Modal","ModalActive","ModalContent","ModalContentActive","formData","FormData","append","files","ProfileInfo","updProfile","editMod","updEditMode","updOwner","Profile","ImageSettings","svg","width","height","viewBox","xmlns","d","Ava","editButton","this","setStateProfile","getStatus","setProfile","parseInt","match","params","userID","prevProps","withRouter","getStatusThunk","reject","updProfileThunk","INITCHAT","NULLCHAT","payload","chatReducer","getChat","Chat","getMyId","chatWS","MessageElement","useRef","InitialMessages","JSON","parse","scrollIntoView","message","updMessage","buttonDisabled","updButtonDisabled","updIsFetching","isFetchingSend","updIsFetchingSend","isChatting","updChatting","chat","useSelector","myId","setTimeout","WebSocket","onopen","addEventListener","removeEventListener","WechatOutlined","fontSize","classNames","ChatActive","CloseOutlined","send","Header","Layout","Sider","Footer","BurgerMenu","updBurgerMenu","ReactRouterRoute","Route","backgroundColor","boxShadow","marginBottom","MenuActive","padding","exact","path","render","init","reducers","combineReducers","dialogId","findIndex","item","newMessage","copystate","assign","index","reducer","store","createStore","applyMiddleware","thunk","ReactDOM","document","getElementById"],"mappings":"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","file":"static/js/main.785e51a0.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"fieldError\":\"renderField_fieldError__38L3n\",\"error\":\"renderField_error__2t9tl\",\"field\":\"renderField_field__ghDQM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Content\":\"Dialogs_Content__1lDVe\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"search\":\"Search_search__XEWic\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AboutMe\":\"AboutMe_AboutMe__3dz7N\",\"anime\":\"AboutMe_anime__33aEN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Messages\":\"Messages_Messages__UGzQT\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Avatar\":\"Users_Avatar__2fHtJ\",\"Block\":\"Users_Block__bL9Fy\",\"header\":\"Users_header__pHyNX\",\"Pagination\":\"Users_Pagination__2ugnf\",\"content\":\"Users_content__3zai0\",\"users\":\"Users_users__2w3pg\",\"preloader\":\"Users_preloader__27fAY\",\"Follow\":\"Users_Follow__1CQ2R\",\"Unfollow\":\"Users_Unfollow__dESpK\",\"userName\":\"Users_userName__1YhxX\",\"infoUser\":\"Users_infoUser__22ur7\",\"elipsiss\":\"Users_elipsiss__3jLIx\"};","export default __webpack_public_path__ + \"static/media/logo.41ae6d96.png\";","import axios from \"axios\"\r\nimport { dataAuth } from \"./Redux/Auth-Reducer\"\r\nimport { photos, profile, profileUPD, Users } from \"./Types/Types\"\r\n\r\n\r\nconst instance = axios.create({\r\n    withCredentials: true,\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    headers: {\r\n        \"API-KEY\": \"f5fb66df-ad46-41c5-8be0-2f9f986c6851\"\r\n    }\r\n\r\n})\r\n\r\nexport type response<T={}> = {\r\n    data:T\r\n    messages:Array<string>\r\n    fieldsErrors:Array<string>\r\n    resultCode:number\r\n}\r\n\r\nexport const usersAPI = {\r\n    getUsers: (current = 1 as number | undefined | null, term='' as string | null | undefined) => instance.get<Users>(`users?page=${current}&count=${8}&term=${term}`),\r\n    follow: (userId:number) => instance.post(`/follow/${userId}`),\r\n    unfollow: (userId:number)=>instance.delete(`/follow/${userId}`)\r\n}\r\n\r\n\r\n\r\nexport const profileAPI = {\r\n    getProfile: (user:number | null) => instance.get<profile>('profile/' + user).then(response => response.data),\r\n    updStatus: (status:string) => instance.put<response>('profile/status', { status }).then(response => response.data),\r\n    getStatus: (user:number | null) => instance.get<string>('profile/status/' + user).then(response => response.data),\r\n    updPhoto: (photo:File) => instance.put<response<photos>>('profile/photo', photo, {headers:{'Content-Type':'multipart/form-data'}}).then(response => response.data),\r\n    updAboutMe: (data:profileUPD) => instance.put<response>('profile', data).then(response => response.data)\r\n}\r\n\r\n\r\n\r\n\r\ninterface data extends response {\r\n    data:dataAuth\r\n}\r\n\r\nexport const AuthAPI = {\r\n    \r\n    login: (email:string, password:string, rememberMe=false, captcha='') => instance.post<response<{userId:number}>>('auth/login', {\r\n    email,\r\n    password,\r\n    rememberMe,\r\n    captcha\r\n}).then(response => response.data),\r\n    Auth: () => instance.get<data>('auth/me').then(response => response.data),\r\n    Logout: () => instance.delete<response>('auth/login').then(response => response.data),\r\n}\r\n\r\n\r\nexport const securityAPI = {\r\n    getCaptcha: () => instance.get<{url:string}>('/security/get-captcha-url').then(response => response.data)\r\n}\r\n\r\n\r\n","import { InferActions } from \"./Store\"\r\n\r\nlet initialState = {\r\n    ButtonDisabled:false,\r\n    isFetching:false,\r\n    }\r\n\r\nconst FETCHING = 'FETCHING'\r\nconst BUTTONSDISABLED = 'BUTTONS-DISABLED'\r\ntype initialStateType = typeof initialState\r\n\r\n\r\nexport default function UtilitsReducer(state:initialStateType = initialState, action: ActionsUtilits):initialStateType {\r\n  switch (action.type) {\r\n    case FETCHING:\r\n        return {\r\n          ...state,\r\n          isFetching:action.data,\r\n        }\r\n      case BUTTONSDISABLED:\r\n      return {\r\n        ...state,\r\n        ButtonDisabled:action.data,\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\nexport type ActionsUtilits = InferActions<typeof actionsUtilits>\r\n\r\nexport const actionsUtilits = {\r\n  ButtonDisabledAc: (data:boolean)=>({type:'BUTTONS-DISABLED',data}),\r\n  isFetchingAc: (data:boolean)=>({type:'FETCHING',data})\r\n}\r\n\r\n \r\n","import { InferActions, AppState } from './Store';\r\nimport { Dispatch } from \"redux\"\r\nimport {  stopSubmit } from \"redux-form\"\r\nimport { AuthAPI, securityAPI } from \"../Api\"\r\nimport { actionsUtilits, ActionsUtilits} from \"./Utilits-Reducer\"\r\nimport { ThunkAction } from 'redux-thunk';\r\n\r\nconst ISAUTH = 'IS-AUTH'\r\nconst INITAPP = 'INIT-APP'\r\nconst CAPTCHA = 'CAPTCHA'\r\n\r\nlet initialState = {\r\n    id: null as null | number,\r\n    login: null as null | string,\r\n    email: null as null | string,\r\n    isAuth: false,\r\n    initApp: true,\r\n    captcha:'',\r\n}\r\n\r\ntype initialStateType = typeof initialState\r\n\r\n\r\n\r\nconst AuthReducer = (state:initialStateType = initialState, action:Actions):initialStateType => {\r\n    switch (action.type) {\r\n        case ISAUTH:\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n                isAuth: action.isAuth,\r\n            }\r\n        case INITAPP:\r\n            return {\r\n                ...state,\r\n                initApp: action.initApp\r\n            }\r\n        case CAPTCHA:\r\n            return {\r\n                ...state,\r\n                captcha:action.url\r\n            }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport default AuthReducer\r\n\r\n\r\nexport type dataAuth = {\r\n    id: number | null\r\n    login:  string | null\r\n    email:  string | null\r\n}\r\n\r\n\r\ntype Actions = InferActions<typeof actions>\r\n\r\nconst actions = {\r\n    isAuthAc: (data:dataAuth, isAuth:boolean) => {\r\n        return {\r\n            type: ISAUTH,\r\n            data,\r\n            isAuth,\r\n        } as const\r\n    },\r\n     \r\n    \r\n    initAppAc: (initApp:boolean) => {\r\n        return {\r\n            type: INITAPP,\r\n            initApp\r\n        } as const\r\n    },\r\n    \r\n    \r\n    captchaAc: (url:string) => {\r\n        return {\r\n            type:CAPTCHA,\r\n            url\r\n        } as const\r\n    },\r\n}\r\n\r\n\r\n\r\n\r\nexport const AuthThunk = async (dispatch:Dispatch<Actions>) => {\r\n\r\n\r\n    const data = await AuthAPI.Auth()\r\n\r\n    if (data.resultCode === 0) {\r\n        dispatch(actions.isAuthAc(data.data, true))\r\n    }\r\n    dispatch(actions.initAppAc(false))\r\n\r\n\r\n}\r\n\r\n\r\ntype loginValue = {\r\n    email:string\r\n    password:string\r\n    rememberMe:boolean\r\n    captcha:string\r\n}\r\n\r\n\r\n\r\n\r\nexport const LoginThunk = (values:loginValue) => {\r\n    return (dispatch:any) => {\r\n           \r\n        dispatch(actionsUtilits.isFetchingAc(true))\r\n        AuthAPI.login(values.email, values.password, values.rememberMe, values.captcha)\r\n            .then(data => { \r\n                if (data.resultCode == 0)\r\n                {\r\n                dispatch(AuthThunk)\r\n                dispatch(actionsUtilits.isFetchingAc(false))\r\n                }\r\n                if (data.resultCode == 1) {\r\n                                  \r\n                    dispatch(actionsUtilits.isFetchingAc(false))\r\n                    dispatch(stopSubmit(\"login\", {_error:data.messages[0]}))\r\n                }\r\n                if (data.resultCode == 10)\r\n                {\r\n                    dispatch(actionsUtilits.isFetchingAc(false))\r\n                    securityAPI.getCaptcha().then(data=>dispatch(actions.captchaAc(data.url)))\r\n                }\r\n            }\r\n            )\r\n            \r\n    }\r\n}\r\n\r\nexport const LogoutThunk = (dispatch:Dispatch<Actions>) => {\r\n    AuthAPI.Logout()\r\n    .then(data=>{\r\n        if (data.resultCode == 0) {\r\n            dispatch(actions.isAuthAc({id:null,login:null,email:null},false))\r\n        }  \r\n    })\r\n        \r\n\r\n}\r\n","import style from './Nav.module.css'\nimport logo from './Img/logo.png'\nimport { connect } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport {LogoutThunk } from '../../Redux/Auth-Reducer';\nimport { Dispatch, FC } from 'react';\nimport { AppState } from '../../Redux/Store';\n\ntype MapStateToPropsType = {\n  isAuth:boolean\n  UserName:string | null\n}\n\ntype MapDispatchToPropsType = {\n  Logout:()=>void\n}\n\ntype PropsType = MapStateToPropsType & MapDispatchToPropsType\n\n const Nav:FC<PropsType> = ({isAuth, UserName, Logout})=>{\n   const logout = ()=>{\n    Logout()\n   }\n  return (\n    <nav className={style.Nav}>\n      <div className={style.Logo}>\n        <img src={logo}></img>\n      </div>\n      {isAuth?<div className={style.login}><span>{UserName}</span><span ><button onClick={logout}>Logout</button></span></div>\n      :<div className={style.login}><NavLink to='/login'><span><button placeholder='login'>Login</button></span></NavLink></div>}\n    </nav>\n  );\n}\n\nconst MapStateToProps =(state:AppState):MapStateToPropsType=>{\n  return {\n    isAuth:state.Auth.isAuth,\n    UserName:state.Auth.login\n  }\n}\nconst MapDispatchToProps = (dispatch:Dispatch<any>)=>{\n  return {\n    Logout:()=>dispatch(LogoutThunk)\n  }\n}\nexport default connect<MapStateToPropsType, MapDispatchToPropsType, {}, AppState>(MapStateToProps,MapDispatchToProps)(Nav)","import { FC } from 'react';\nimport { connect } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport { AppState } from '../../Redux/Store';\nimport style from './Menu.module.css'\n\n\n\ntype MapStateToPropsType = {\n  UserId: number | null\n}\n\n const Menu: FC<MapStateToPropsType>= ({UserId}) => {\n\n  return (\n    <div className={style.Menu}>\n      <ul>\n      <li>\n          <NavLink to={'/profile/' + UserId} activeClassName={style.Active}>Profile</NavLink>\n        </li>\n        <li>\n          <NavLink to='/dialogs' activeClassName={style.Active}>Messages</NavLink>\n        </li>\n        <li>\n          <NavLink to='/хуй' activeClassName={style.Active}>Music</NavLink>\n        </li>\n        <li>\n          <NavLink to='/пизда' activeClassName={style.Active}>Setting</NavLink>\n        </li>\n        <li>\n          <NavLink to='/users' activeClassName={style.Active}>Users</NavLink>\n        </li>\n      </ul>\n    </div>\n  );\n}\n\nconst MapStateToProps = (state:AppState):MapStateToPropsType=>{\n  return {\n    UserId: state.Auth.id\n  }\n}\n\nexport default connect<MapStateToPropsType, {}, {},AppState>(MapStateToProps,{})(Menu)\n\n","import style from './Messages.module.css'\n\nexport default function messages(props) {\n  return (\n   <div>{props.messages.text}</div>\n  );\n}\n\n","import React from 'react';\nimport { connect } from 'react-redux';\nimport style from './Dialogs.module.css'\nimport Messages from './Messages/Messages';\n\nfunction Dialogs(props) {\n  let ElementTextArea = React.createRef()\n  let UpdText = ()=>{\n    props.UpdateText({type:'UPD-TEXT-MESSAGE', text:ElementTextArea.current.value})\n  }\n  let onChangeDialog = (obj)=>{\n   props.ChangeDialog({type:'CHANGE-DIALOG', dialog:obj})\n  }\n  return (\n    <div className={style.Content}>\n      <div>\n      {props.dialogs.map( dialogs=> <div onClick={()=>(onChangeDialog(dialogs))}>{dialogs.nameDialog}</div>)}\n      </div>\n      <div>\n        {props.activeDialog.messages.map(messages =><Messages messages={messages} />)}\n        <textarea ref={ElementTextArea} onChange={UpdText} value={props.textMessage}></textarea>\n        <button onClick={props.SendMessage}>send</button>  \n       </div>\n      \n    </div>\n  );\n}\n\nlet mapStateToProps = (state) => {\n  return {\n    dialogs: state.DialogPage.dialogs,\n    activeDialog: state.DialogPage.activeDialog,\n    textMessage: state.DialogPage.textMessage\n  }\n}\n\nlet mapDispatchToProps = (dispatch) => {\n  return {\n    ChangeDialog: (action)=>{\n      dispatch(action)\n    },\n    SendMessage: ()=>{\n      dispatch({type:'SEND-MESSAGE'})\n    },\n    UpdateText: (action)=>{\n     dispatch(action)\n    }\n  }\n}\n\nconst Dialogs_w = connect(mapStateToProps, mapDispatchToProps)(Dialogs);\nexport default Dialogs_w;","import { connect } from \"react-redux\"\nimport { Redirect } from \"react-router\"\nimport { FC } from \"react\"\nimport { AppState } from \"../Redux/Store\"\n\n\ntype MapState = {\n  isAuth:boolean\n}\n\nconst WithAuthRedirect = (Component:FC) => {\n\n  const RedirectLogin = ({isAuth}:MapState)=>{\n    \n    if (!isAuth) return <Redirect to=\"/login\"/>\n    \n    return <Component/> \n  }\n\n  let MapStateToProps = (state:AppState):MapState=>{\n    return {\n      isAuth:state.Auth.isAuth\n    }\n}\n \n let connectedRedirectLogin = connect(MapStateToProps)(RedirectLogin)\n return connectedRedirectLogin\n\n}\n\n\n export default WithAuthRedirect","import { Dispatch } from 'redux';\r\nimport { ThunkAction } from 'redux-thunk';\r\nimport { usersAPI } from '../Api'\r\nimport { profile, users, Users } from '../Types/Types';\r\nimport { AppState, InferActions } from './Store';\r\nimport { ActionsUtilits, actionsUtilits } from './Utilits-Reducer';\r\n\r\n\r\nconst FOLLOW = 'FOLLOW'\r\nconst UNFOLLOW = 'UNFOLLOW'\r\nconst SETUSERS = 'SET-USERS'\r\nconst CHANGEPAGE = 'CHANGE-PAGE'\r\n\r\nlet initialState = {\r\n    items: [] as Array <users>,\r\n    totalCount:0,\r\n    currentPage:1 as number | undefined | null,\r\n    }\r\n\r\ntype initialStateType = typeof initialState\r\n\r\nexport default function UsersPageReducer(state:initialStateType = initialState, action:Actions):initialStateType {\r\n  switch (action.type) {\r\n    \r\n    case SETUSERS:\r\n      return {\r\n        ...state,\r\n        items:[...action.data.items],\r\n        totalCount:action.data.totalCount,\r\n      }\r\n    case CHANGEPAGE:\r\n      return {\r\n        ...state,\r\n        currentPage:action.current\r\n      }\r\n    case FOLLOW: {\r\n      const index = state.items.findIndex(u=>u.id == action.userId)\r\n      state.items[index].followed = action.followed\r\n      return {\r\n        ...state,\r\n        items:[...state.items]\r\n      }\r\n    }\r\n    case UNFOLLOW: {\r\n      const index = state.items.findIndex(u=>u.id == action.userId)\r\n      state.items[index].followed = action.followed\r\n      return {\r\n        ...state,\r\n        items:[...state.items]\r\n      }\r\n    }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\ntype Actions = InferActions<typeof actions>\r\n\r\n\r\n\r\nexport let actions = {\r\n  SetUsersAc:(data:Users)=> ({type: SETUSERS, data} as const),\r\n  ChangePageAc:(current:number | undefined | null)=>({type: CHANGEPAGE, current} as const),\r\n  FollowAc:(userId:number, followed:boolean)=>({type: FOLLOW, userId, followed} as const),\r\n  UnfollowAc:(userId:number, followed:boolean)=>({type: UNFOLLOW, userId, followed} as const)\r\n}\r\n\r\n\r\n\r\ntype ThunkType = ThunkAction<Promise<void>,AppState,unknown, Actions>\r\n\r\nexport const getUsersThunk = (current:number | undefined | null,term:string | null | undefined):ThunkType=> {\r\n  return async (dispatch:Dispatch<Actions | ActionsUtilits>)=>{\r\n    dispatch(actionsUtilits.ButtonDisabledAc(true))\r\n    dispatch(actionsUtilits.isFetchingAc(true))\r\n    const response = await usersAPI.getUsers(current,term)\r\n    dispatch(actions.SetUsersAc(response.data))\r\n    dispatch(actionsUtilits.ButtonDisabledAc(false))\r\n    dispatch(actionsUtilits.isFetchingAc(false))\r\n    if (current!==undefined){dispatch(actions.ChangePageAc(current))}  \r\n}\r\n}\r\n\r\nexport const followThunk = (userId:number, button:HTMLInputElement)=>{\r\n  return (dispatch:Dispatch<Actions>)=>{\r\n    button.disabled = true\r\n    usersAPI.follow(userId)\r\n    .then (()=>dispatch(actions.FollowAc(userId, true)))\r\n    .catch((e)=>alert(e))\r\n    .finally(()=>button.disabled = false)\r\n}\r\n}\r\n\r\nexport const unfollowThunk = (userId:number, button:HTMLInputElement)=>{\r\n  return (dispatch:Dispatch<Actions>)=>{\r\n    button.disabled = true\r\n    usersAPI.unfollow(userId)\r\n    .then (()=>dispatch(actions.UnfollowAc(userId, false)))\r\n    .catch((e)=>alert(e))\r\n    .finally(()=>button.disabled = false)\r\n  }\r\n}","import React, { Dispatch, FC, SetStateAction, useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { UrlUpdateType } from 'use-query-params';\nimport { AppState } from '../../Redux/Store';\nimport { getUsersThunk } from '../../Redux/UsersPage-Reducer';\nimport style from './Pagination.module.css'\n\ntype ownPropsType = {\n  term:string | null | undefined\n  startPage: number\n  endPage:number\n  updPagesLength: Dispatch<SetStateAction<{ startPage: number; endPage: number; }>>\n  portionSize:number\n  updCurrent: any\n}\ntype MapStateToPropsType = {\n  TotalUsers:number\n  CurrentPage:number | undefined | null \n  ButtonDisabled:boolean\n}\n\ntype MapDispatchToPropsType = {\n  getUsers: (current:number,term:string | null | undefined)=> void\n}\n\ntype PropsType = MapStateToPropsType & MapDispatchToPropsType & ownPropsType\n\nconst Pagination: FC<PropsType>= ({TotalUsers, startPage, endPage, updPagesLength, \n                                  portionSize, term, CurrentPage, getUsers, ButtonDisabled, updCurrent}) => {\n    \n    \n    const MaxPagesLength = Math.ceil(TotalUsers/8)\n    const [pages, updPages] = useState<Array<number>>([])\n    \n    \n    useEffect(()=>{\n      let pagesUPD = [] as Array<number>\n      for (let i=startPage;i<=endPage;i++){\n         pagesUPD.push(i)\n     }\n     updPages(pagesUPD)\n    },[startPage,endPage])\n    \n    const Next = ()=>{\n      if (endPage<MaxPagesLength)\n      {\n        updPagesLength({startPage:startPage+portionSize,\n                     endPage:endPage+portionSize})\n                    }\n      }\n\n    const Prev = ()=>{\n      if (startPage>1){\n      updPagesLength({startPage:startPage-portionSize,\n                     endPage:endPage-portionSize})\n    }}\n\n    const onClickChangePage = (current:number) =>{\n      getUsers(current, term)\n      updCurrent(current)\n    }\n     \n\n    return (\n              <div className={style.pagination}>\n                {(startPage!=1) && <button className={style.Prev} onClick={()=>Prev()}>Prev</button>}\n                <span>{pages.filter(p => p<=MaxPagesLength)\n                            .map((p,i,arr) => arr.length>1 && <button key={p} disabled={ButtonDisabled} onClick={()=>onClickChangePage(p)} \n              className={CurrentPage === p ? style.ActivePage:style.margin}>{p}</button>)}\n                </span> \n                 {(endPage <= MaxPagesLength) && <button  className={style.Prev} onClick={()=>Next()}>Next</button>}\n              </div>\n    )\n\n    }\n\n\n\n\nlet MapStateToProps = (state:AppState):MapStateToPropsType=>{\n    return {\n      TotalUsers:state.UsersPage.totalCount,\n      CurrentPage:state.UsersPage.currentPage,\n      ButtonDisabled:state.Utilits.ButtonDisabled,\n    }\n}\n\nlet MapDispatchToProps = (dispatch:Dispatch<any>):MapDispatchToPropsType=>{\n\n  return {\n    getUsers:(current:number, term:string | null | undefined)=> dispatch(getUsersThunk(current, term))\n}\n}\nexport default connect<MapStateToPropsType, MapDispatchToPropsType, ownPropsType, AppState>(MapStateToProps,MapDispatchToProps)(Pagination);\n","export default __webpack_public_path__ + \"static/media/Spinner.fee6e1db.gif\";","import spinner from './Spinner.gif'\n\nconst Preloader = ()=>{\n  return (\n    <div className='preloader'>\n    <div>\n      <img src={spinner}></img>\n    </div>\n    </div>\n  )\n}\n\n\nexport default Preloader","import style from './renderField.module.css'\r\nimport cn from 'classnames'\r\nimport { FC } from 'react'\r\nimport { WrappedFieldProps } from 'redux-form'\r\nimport { Tooltip } from 'antd'\r\n\r\ntype Props = {\r\n      type?:string | undefined\r\n      placeholder?:string |undefined\r\n}\r\n\r\nexport const renderField:FC<WrappedFieldProps & Props> = ({type, placeholder, input, meta:{error, touched}})=>{\r\n\r\n    return (\r\n    <span className={cn(style.field)}>\r\n         <Tooltip color='red' visible={touched && error? true:false} placement=\"right\" title={error}><input className={cn({[style.fieldError]:error})} {...input} type={type} placeholder={placeholder}/>\r\n         </Tooltip>\r\n    </span>\r\n    )\r\n  }\r\n","import React, { FC } from 'react';\nimport { Field, InjectedFormProps, reduxForm } from 'redux-form';\nimport { renderField } from '../Utilits/renderField';\nimport style from './Search.module.css'\n\ntype SearchValue = {\n  term:string\n}\n\nlet Search:FC<InjectedFormProps<SearchValue>> = ({handleSubmit}) => {\n\n     \n    return (\n      <div className={style.search}>\n        <form onSubmit={handleSubmit}>\n        <Field name=\"term\" component={renderField} placeholder=\"Username\"/>\n        <button type='submit'>Search</button>\n        </form>\n        </div>\n    )\n\n        }\n\n  export default reduxForm<SearchValue,unknown>({form:'search'})(Search)\n\n   ","export default \"data:image/jpeg;base64,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\"","const calculateStartPage =(currentPage)=>{\r\n    if (currentPage){\r\n        if (currentPage<10){\r\n            return 1\r\n        }\r\n        if (currentPage<100 && currentPage>10){\r\n          let cur = (currentPage/100).toFixed(2)\r\n            let res = cur.toString().split('').slice(0,-1).join('')\r\n            \r\n            if (cur.split('').slice(-1) == 0)\r\n            {\r\n                return Number(res)*100-10+1\r\n            }\r\n\r\n            return Number(res)*100+1\r\n        }\r\n        if (currentPage<1000 && currentPage>100){\r\n            let cur = (currentPage/1000).toFixed(3)\r\n            let res = cur.toString().split('').slice(0,-1).join('')\r\n            if (cur.split('').slice(-1) == 0)\r\n            {\r\n                return Number(res)*1000-10+1\r\n            }\r\n              return Number(res)*1000+1\r\n          }\r\n\r\n          if (currentPage<10000 && currentPage>1000){\r\n            let cur = (currentPage/10000).toFixed(4)\r\n            let res = cur.toString().split('').slice(0,-1).join('')\r\n            if (cur.split('').slice(-1) == 0)\r\n            {\r\n                return Number(res)*10000-10+1\r\n            }\r\n            \r\n              return Number(res)*10000+1\r\n          }\r\n        \r\n    }\r\n    \r\n    return 1\r\n    \r\n  }\r\n\r\nexport default calculateStartPage","import React, { ComponentType, Dispatch, FC, useEffect, useState } from 'react';\nimport { connect, useDispatch } from 'react-redux';\nimport { NavLink } from 'react-router-dom';\nimport { compose } from 'redux';\nimport WithAuthRedirect from '../../hoc/WithAuthRedirect';\nimport { actions, followThunk, getUsersThunk, unfollowThunk } from '../../Redux/UsersPage-Reducer';\nimport Pagination from '../Utilits/Pagination';\nimport Preloader from '../Utilits/preloader';\nimport Search from './Search';\nimport style from './Users.module.css'\nimport ava from './../Profile/Img/Avatar.jpg'\nimport { AppState } from '../../Redux/Store';\nimport { users } from '../../Types/Types';\nimport { NumberParam, StringParam, useQueryParam} from 'use-query-params';\nimport calculateStartPage from '../Utilits/calculateStartPage';\n\n\n\ntype MapState = {\n  users: Array<users>\n  isFetching: boolean\n  isAuth: boolean\n  currentPage:number | null | undefined\n}\n\ntype MapDispatch = {\n  getUsers: (current: number | undefined | null, term: string | null | undefined ) => void\n}\n\nlet Users: FC<MapState & MapDispatch> = ({ getUsers, isFetching, users, currentPage }) => {\n\n  const [сurrent, updCurrent] = useQueryParam('page', NumberParam)\n\n  const portionSize = 10\n  const [term, updTerm] = useQueryParam('term', StringParam)\n  const [{startPage,endPage}, updPagesLength] = useState({startPage: calculateStartPage(сurrent) as any,endPage:calculateStartPage(сurrent) as any + 9})\n\n  useEffect(() => {\n    getUsers(сurrent, term)\n    updCurrent(сurrent)\n\n    return ()=>{dispatch(actions.ChangePageAc(1))}\n    \n  }, [])\n\n\n  const dispatch = useDispatch()\n\n  const search = (value: { term: string }) => {\n\n    getUsers(undefined, value.term)\n    \n    if (value.term) {\n      updTerm(value.term)\n    }\n    else \n    {\n      updTerm(undefined)\n    }\n    updPagesLength({startPage:1,endPage:portionSize})\n    dispatch(actions.ChangePageAc(1))\n    updCurrent(1)\n  }\n\n  const follow = (userId: number, e: React.FormEvent<EventTarget>) => {\n    let button = e.target as HTMLInputElement\n    dispatch(followThunk(userId, button))\n  }\n\n  const unfollow = (userId: number, e: React.FormEvent<EventTarget>) => {\n    let button = e.target as HTMLInputElement\n    dispatch(unfollowThunk(userId, button))\n\n  }\n\n  return (\n    <div>\n      <div className={style.header}>\n\n        <Search onSubmit={search} initialValues={{term:term} as any}/>\n        <div className={style.Pagination}>\n        <Pagination term={term} startPage={startPage} endPage={endPage} updPagesLength={updPagesLength} portionSize={portionSize} updCurrent={updCurrent}/>\n        </div>\n      </div>\n      <div className={style.content}>\n\n        \n          \n          <div className={style.users}>\n          {isFetching ?\n            <span className={style.preloader}><Preloader /></span>\n            : users.map((u: users) =>\n\n              <div className={style.Block}>\n               \n                <span><img src={u.photos.small ? u.photos.small : ava} className={style.Avatar}></img></span>\n                <div className={style.infoUser}>\n\n                <NavLink to={'profile/' + u.id}><p className={style.userName}>{u.name}</p></NavLink>\n\n                <span className={style.elipsiss}>{u.status}</span>\n\n                {!u.followed ? <button className={style.Follow} onClick={(e) => follow(u.id, e)}>Follow</button> : \n                <button className={style.Unfollow} onClick={(e) => unfollow(u.id, e)}>Unfollow</button>}\n                \n                </div>\n              </div>\n\n\n            )}\n        </div>\n\n\n\n      </div>\n    </div>\n  )\n\n}\n\nlet MapStateToProps = (state: AppState): MapState => {\n  return {\n    users: state.UsersPage.items,\n    isFetching: state.Utilits.isFetching,\n    isAuth: state.Auth.isAuth,\n    currentPage: state.UsersPage.currentPage\n  }\n}\n\nlet MapDispatchToProps = (dispatch: Dispatch<any>): MapDispatch => {\n\n  return {\n    getUsers: (current: number | undefined | null, term: string | null | undefined) => dispatch(getUsersThunk(current, term))\n  }\n}\n\nexport default compose<ComponentType>(\n  WithAuthRedirect,\n  connect<MapState, MapDispatch, unknown, AppState>(MapStateToProps, MapDispatchToProps))(Users)\n","\r\n\r\nexport const required = (value)=>{\r\n if (value) return undefined\r\n\r\n return 'error, please fill in the required field'\r\n}\r\n\r\nexport const maxLenght = (length) =>{\r\n    \r\n\r\n    return (value)=>{\r\n    \r\n    if (value.length > length) return `error, max lenght ${length}`\r\n\r\n    return undefined\r\n    }\r\n\r\n}\r\n\r\nexport const urlValidation = (value) =>{\r\n    const myRegExp =/^(?:\\S+(?::\\S*)?@)?(?:(?!10(?:\\.\\d{1,3}){3})(?!127(?:\\.\\d{1,3}){3})(?!169\\.254(?:\\.\\d{1,3}){2})(?!192\\.168(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]+-?)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))(?::\\d{2,5})?(?:\\/[^\\s]*)?$/i;\r\n   \r\n    if (value && value.length>20){\r\n   \r\n    return 'error, max length 20'\r\n    \r\n    }\r\n    \r\n    else {\r\n\r\n        if (value && !myRegExp.test(value) ) return \"Not valid url\"\r\n        return undefined\r\n\r\n    }\r\n    \r\n\r\n    \r\n\r\n}\r\n\r\n\r\n","import { Field, reduxForm, InjectedFormProps } from \"redux-form\"\r\nimport { renderField } from \"../Utilits/renderField\"\r\nimport { maxLenght, required } from \"../Utilits/Validators\"\r\nimport style from './Loginform.module.css'\r\nimport cn from 'classnames'\r\nimport { FC } from \"react\"\r\nimport { Button } from \"antd\"\r\n\r\nconst maxLenght32 = maxLenght(32)\r\n\r\ntype OwnProps = {\r\n    captcha:string\r\n}\r\n\r\ntype LoginValues = {\r\n    email:string\r\n    password:string\r\n    rememberMe:boolean\r\n    captcha:string\r\n}\r\n\r\n const LoginForm:FC<OwnProps & InjectedFormProps<LoginValues,OwnProps>> = ({handleSubmit, captcha, ...props})=> {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n        <div className={cn(style.login, {[style.loginWcaptcha]:captcha})}>\r\n        <Field validate={[required,maxLenght32]} name=\"email\" component={renderField} placeholder=\"Username\"/>\r\n        <Field validate={required} name= \"password\" component={renderField}  placeholder=\"Password\" type='password'/>\r\n        <span className={style.RememberMe}><span>RememberMe</span><Field name= \"rememberMe\" component={renderField}  type='checkbox'/></span>\r\n        {captcha && <span className={style.captcha}><img src={captcha}></img></span>}\r\n        {captcha && <span><Field validate={[required]} name=\"captcha\" component={renderField} placeholder=\"enter captcha\"/></span>}\r\n        <button className='Button' type=\"submit\">Login</button>\r\n        </div>\r\n        <div className={style.error}>{props.error}</div>\r\n        </form>\r\n    )\r\n\r\n}\r\n\r\nexport default reduxForm<LoginValues,OwnProps>({form:'login'})(LoginForm)\r\n","import { connect } from \"react-redux\"\r\nimport { Redirect } from \"react-router-dom\"\r\nimport { LoginThunk } from \"../../Redux/Auth-Reducer\"\r\nimport Preloader from \"../Utilits/preloader\"\r\nimport LoginForm from \"./LoginForm\"\r\nimport React, { Dispatch, FC } from 'react'\r\nimport { AppState } from \"../../Redux/Store\"\r\n\r\n\r\ntype MapStateToPropsType = {\r\n    isAuth: boolean\r\n    userId: number | null\r\n    isFetching: boolean\r\n    captcha: string\r\n}\r\n\r\ntype MapDispatchToPropsType = {\r\n    Login: (values:any)=> void\r\n}\r\n\r\ntype PropsType = MapStateToPropsType & MapDispatchToPropsType\r\n\r\nconst Login:FC<PropsType> = ({ Login, isAuth, userId, isFetching, captcha }) => {\r\n    let submit = (values:any) => {\r\n        Login(values)\r\n    }\r\n\r\n    if (isAuth) return <Redirect to={'/profile/' + userId} />\r\n\r\n    if (isFetching) return <Preloader/>\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <h1>Login</h1>\r\n            </div>\r\n            <LoginForm captcha={captcha} onSubmit={submit} />\r\n        </div>\r\n    )\r\n\r\n}\r\n\r\nconst MapDispatchToProps = (dispatch:Dispatch<any>):MapDispatchToPropsType => {\r\n    return {\r\n        Login: (values:any) => dispatch(LoginThunk(values))\r\n    }\r\n}\r\n\r\nconst MapStateToProps = (state:AppState):MapStateToPropsType => {\r\n    return {\r\n        isAuth: state.Auth.isAuth,\r\n        userId: state.Auth.id,\r\n        isFetching: state.Utilits.isFetching,\r\n        captcha: state.Auth.captcha\r\n    }\r\n}\r\n\r\nconst Login_w = connect<MapStateToPropsType, MapDispatchToPropsType, {}, AppState>(MapStateToProps, MapDispatchToProps)(Login)\r\n\r\nexport default Login_w","\r\nimport { AppState, InferActions } from './Store';\r\nimport { profileAPI, response } from './../Api';\r\nimport { post, profile, profileUPD } from \"../Types/Types\"\r\nimport { ActionsUtilits, actionsUtilits } from \"./Utilits-Reducer\"\r\nimport { Dispatch } from 'redux';\r\nimport { ThunkAction, ThunkDispatch } from 'redux-thunk';\r\nimport { ResolveThunks } from 'react-redux';\r\n\r\n\r\nlet initialState = {\r\n    posts: [\r\n        { id: 1, text: 'Hi bro' },\r\n        { id: 2, text: 'dsadasdasd' },\r\n        { id: 3, text: 'dasdasdas' },\r\n        { id: 4, text: 'dsadasdsa' },\r\n        { id: 5, text: 'dsadasdsa' },\r\n        { id: 6, text: 'dsadasdsa' },\r\n        { id: 7, text: 'dsadasdsa' },\r\n        { id: 8, text: 'dsadasdsa' },\r\n    ] as Array<post>,\r\n    messageText: 'Hello',\r\n    profile:\r\n    {\r\n        aboutMe: '',\r\n        contacts: {\r\n            facebook: null,\r\n            website: null,\r\n            vk: null,\r\n            twitter: null,\r\n            instagram: null,\r\n            youtube: null,\r\n            github: null,\r\n            mainLink: null\r\n        },\r\n        lookingForAJob: false,\r\n        lookingForAJobDescription: null,\r\n        fullName: '',\r\n        userId: -1,\r\n        photos: {\r\n            small: null,\r\n            large: null,\r\n        }\r\n    } as profile,\r\n    status: ''\r\n}\r\n\r\ntype initialStateType = typeof initialState\r\n\r\nexport default function ProfilePageReducer(state:initialStateType = initialState, action: ActionsProfile):initialStateType {\r\n    switch (action.type) {\r\n        case 'SET-STATE-PROFILE':\r\n            return {\r\n                ...state,\r\n                profile: { ...action.data }\r\n            }\r\n        case 'SET-STATUS':\r\n            return {\r\n                ...state,\r\n                status: action.data\r\n            }\r\n        default:\r\n            return state;\r\n    }\r\n}\r\n\r\n\r\nexport type ActionsProfile = InferActions<typeof actions>\r\n\r\nconst actions = {\r\n    SetStateProfileAc: (data:profile) => {\r\n        return {\r\n            type: 'SET-STATE-PROFILE',\r\n            data\r\n        } as const\r\n    },\r\n    \r\n    SetStatusAc: (data:string) => {\r\n        return {\r\n            type: 'SET-STATUS',\r\n            data\r\n        } as const\r\n    },\r\n\r\n}\r\n\r\n\r\n\r\nexport const getProfileThunk = (user:number | null) => {\r\n\r\n    return (dispatch:Dispatch<ActionsUtilits | ActionsProfile>) => {\r\n        profileAPI.getProfile(user)\r\n            .then(data => dispatch(actions.SetStateProfileAc(data)))\r\n    }\r\n\r\n}\r\n\r\nexport const getStatusThunk = (user:number) => {\r\n    return (dispatch:Dispatch<ActionsUtilits | ActionsProfile>) => {\r\n        profileAPI.getStatus(user).\r\n            then(data => dispatch(actions.SetStatusAc(data)))\r\n    }\r\n}\r\n\r\nexport const sendStatusThunk = (StatusText:string, user:number | null) => {\r\n    return (dispatch:Dispatch<ActionsUtilits | ActionsProfile>) => {\r\n        profileAPI.updStatus(StatusText)\r\n            .then(() => profileAPI.getStatus(user).then(data => dispatch(actions.SetStatusAc(data))))\r\n    }\r\n}\r\n\r\nexport const updProfileThunk = (data:profileUPD, user:number | null) => {\r\n\r\n    return (dispatch:Dispatch<ActionsUtilits | ActionsProfile| any>) => {\r\n        return new Promise((resolve, reject) => {\r\n            dispatch(actionsUtilits.isFetchingAc(true))\r\n            profileAPI.updAboutMe(data)\r\n                .then(data => {\r\n                    dispatch(getProfileThunk(user))\r\n                    resolve(data)\r\n                })\r\n                .catch(data => reject(data))\r\n                .then(() => dispatch(actionsUtilits.isFetchingAc(false)))\r\n        })\r\n    }\r\n\r\n}\r\n\r\nexport type updWithPromise = typeof updProfilePhotoThunk\r\n\r\nexport type ThunkType = ThunkAction<Promise<any>,AppState,unknown, ActionsProfile>\r\n\r\nexport const updProfilePhotoThunk = (photo:File, user:number | null) => {\r\n    return (dispatch:Dispatch<ActionsUtilits | ActionsProfile | any > ) => {\r\n        return new Promise(async (resolve) => {\r\n            try {\r\n                dispatch(actionsUtilits.isFetchingAc(true))\r\n                const data = await profileAPI.updPhoto(photo)\r\n                dispatch(getProfileThunk(user))\r\n                resolve(data)\r\n            }\r\n            catch (error:any) {\r\n                window.alert(error.response.status)\r\n            }\r\n            finally {\r\n                dispatch(actionsUtilits.isFetchingAc(false))\r\n            }\r\n\r\n        })\r\n\r\n    }\r\n}","import React, { Dispatch, FC, useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { sendStatusThunk } from '../../../Redux/ProfilePage-Reducer';\nimport { AppState } from '../../../Redux/Store';\nimport style from './Status.module.css'\n\n\ntype MapStateToPropsType = {\n  userId: number | null\n  status: string\n}\ntype MapDispatchToPropsType = {\n  updStatus:(statusText:string,userId:number | null)=>void\n}\ntype OwnProps = {\n  isOwner:boolean\n}\nconst Status:FC<MapStateToPropsType & OwnProps & MapDispatchToPropsType> = React.memo( ({userId,status, updStatus, isOwner})=> {\n  const [ChangeOfStatus, setStatus] = useState(false)\n  const [StatusText, setStatusText] = useState(status)\n\n\n  const StatusActive = ()=>{\n   \n   setStatus(true)\n  }\n  \n  useEffect(()=>{\n    setStatusText(status)\n  },[status])\n\n  const StatusDisabled = ()=>{\n    setStatus(false)\n    updStatus(StatusText,userId)\n    \n  }\n\n  const ChangeStatus = (event:any) => {\n    if (event.target.value.length < 30) {\n   setStatusText(event.target.value)\n  }\n  }\n\n  return (\n<div className={style.status}>\n{isOwner ? !ChangeOfStatus ?<span onDoubleClick={StatusActive}>{status?status:<span className={style.notStatus}>(status not set)</span>}</span>:\n              <input style={{textAlign:'center'}} onChange={ChangeStatus} onBlur={StatusDisabled} autoFocus={true} value={StatusText}></input>:status?status:<span className={style.notStatus}>(status not set)</span>}\n              {isOwner && <p>(double click to update status)</p>}\n</div>\n  )\n}\n)\n\nconst MapStateToProps = (state:AppState):MapStateToPropsType=>{\n  return{\n    userId:state.Auth.id,\n    status:state.ProfilePage.status\n  }\n}\n\nconst MapDispatchToProps = (dispatch:Dispatch<any>):MapDispatchToPropsType =>{\n  return {\n    updStatus:(statusText,user)=>dispatch(sendStatusThunk(statusText,user))\n  }\n}\n\nexport default connect<MapStateToPropsType,MapDispatchToPropsType,OwnProps,AppState>(MapStateToProps,MapDispatchToProps)(Status)\n","import React, { FC } from 'react';\nimport { contacts, profile } from '../../../Types/Types';\nimport style from './AboutMe.module.css'\n\n\ntype CustomProps = {\n  profile:profile\n}\n\nconst AboutMe: FC<CustomProps> = ({profile})=> {\n  \n  return (\n    <div className={style.AboutMe}>\n    <ul>\n    <li><span>About Me:</span>{profile.aboutMe}</li>\n    <li><span>Looking for a job:</span>{profile.lookingForAJob?\"yes\":\"no\"}</li>\n    <li><span>Description:</span>{profile.lookingForAJobDescription}</li>\n    <Contacts contacts={profile.contacts}/>\n    </ul>\n   </div>\n  )\n}\n\ntype CustomPropsForContacts = {\n  contacts:contacts\n  \n}\n\nconst Contacts: FC<CustomPropsForContacts> = ({contacts})=>{\n  return(\n    <div>\n       {Object.keys(contacts).map((key) => contacts[key as keyof contacts] && <div><span>{key as keyof contacts}:</span><a href={'https://'+contacts[key as keyof contacts]}>{contacts[key as keyof contacts]}</a></div>)}\n    </div>\n  )\n}\n\nexport default AboutMe","import React, { FC } from 'react';\nimport { Field, InjectedFormProps, reduxForm } from 'redux-form';\nimport { profile, profileUPD } from '../../../Types/Types';\nimport Preloader from '../../Utilits/preloader';\nimport { renderField } from '../../Utilits/renderField';\nimport { maxLenght, required, urlValidation } from '../../Utilits/Validators';\nimport style from './EditAboutMe.module.css'\n\nconst maxLenght20 = maxLenght(20)\nconst maxLenght50 = maxLenght(50)\n\ntype ownProps = {\n  closeAboutMe:()=>void\n  isFetching:boolean\n  profile:profile\n}\nconst EditAboutMe:FC<ownProps & InjectedFormProps<profileUPD,ownProps>>= ({profile, handleSubmit, closeAboutMe, isFetching})=> {\n\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <div className={style.aboutMe}>\n      <Field validate={[required, maxLenght20]} name='fullName' placeholder='Full name' component={renderField} type='text'/>\n      <Field validate={[required, maxLenght50]} name='aboutMe' placeholder='About me' component={renderField} type='text'/>\n      <span className={style.LookingForAjob}><span style={{marginRight:'10px'}}>looking For A Job:</span><Field name='lookingForAJob' component={renderField} type='checkbox'/></span>\n      <Field validate={[required, maxLenght50]} name='lookingForAJobDescription' placeholder='Description' component={renderField} type='text'/>\n      \n      {Object.keys(profile.contacts).map(key => <Field validate={urlValidation} key={key} name={'contacts.'+key} placeholder={key}  component={renderField} type='text'/>)}\n      \n      {isFetching ? <Preloader/> :\n      <div className={style.buttons}>\n      <button type='submit'>Save</button>\n      <button onClick={closeAboutMe}>Close</button>\n      </div>}\n      </div>\n   </form>\n  )\n}\n\n  \n\nexport default reduxForm<profileUPD,ownProps>({form:\"edit-aboutMe\"})(EditAboutMe)","import React, { Dispatch, FC, useState } from 'react';\r\nimport style from './Modal.module.css'\r\nimport cn from 'classnames'\r\nimport { connect } from 'react-redux';\r\nimport { updProfilePhotoThunk } from '../../../Redux/ProfilePage-Reducer';\r\nimport Preloader from '../../Utilits/preloader'\r\nimport { AppState } from '../../../Redux/Store';\r\nimport { response } from '../../../Api';\r\nimport { ThunkDispatch } from 'redux-thunk';\r\n\r\ntype CustomProps = {\r\n    modal:boolean\r\n    updModal:(arg:boolean)=>void\r\n}\r\n\r\ntype MapStateToPropsType = {\r\n    userId:number | null\r\n    isFetching:boolean\r\n}\r\n\r\ntype MapDispatchToPropsType = {\r\n    updProfilePhoto:(photo:File,user:number | null)=> any\r\n}\r\n\r\nconst Modal:FC<CustomProps & MapStateToPropsType & MapDispatchToPropsType> = ({modal, updModal, userId,updProfilePhoto, isFetching})=> {\r\n  \r\n    const photo = React.createRef() as any\r\n    const [errMsg, updErrMsg] = useState([] as Array<string>)\r\n\r\n    const changePhoto = ()=> {\r\n    \r\n        let formData = new FormData();\r\n        formData.append('image', photo.current.files[0])\r\n        updProfilePhoto(formData as any, userId)\r\n        .then((data:response)=>{\r\n            if (data.resultCode == 0)\r\n            {\r\n                updModal(false)\r\n            }\r\n             updErrMsg(data.messages) \r\n        })\r\n        \r\n    }\r\n\r\n    const closeModal = ()=>{\r\n        updModal(false)\r\n        updErrMsg([]) \r\n    }\r\n\r\n  return (\r\n    <div className={modal ? cn(style.Modal, style.ModalActive):style.Modal}>\r\n    <div className={modal ? cn(style.ModalContent, style.ModalContentActive):style.ModalContent}>\r\n     {isFetching ? <Preloader/>: \r\n     <div className={style.content}>\r\n            <input ref={photo} type=\"file\"/>\r\n            <span>{errMsg}</span>\r\n            <div className={style.buttons}>\r\n            <button onClick={changePhoto}>Accept</button>\r\n            <button onClick={closeModal}>Close</button>\r\n            </div>\r\n            \r\n     </div>}\r\n     \r\n     </div>\r\n     </div>\r\n  )\r\n}\r\n\r\n\r\nconst MapStateToProps = (state:AppState):MapStateToPropsType=>{\r\n    return {\r\n    userId:state.Auth.id,\r\n    isFetching:state.Utilits.isFetching\r\n    }\r\n}\r\n\r\nconst MapDispatchToProps = (dispatch:Dispatch<any>):MapDispatchToPropsType =>{\r\n    return {\r\n        updProfilePhoto:(photo:File,user:number | null)=>dispatch(updProfilePhotoThunk(photo,user))\r\n    }\r\n}\r\n\r\nexport default connect< MapStateToPropsType, MapDispatchToPropsType, CustomProps, AppState>(MapStateToProps,MapDispatchToProps)(Modal)","import style from './ProfileInfo.module.css'\nimport Ava from '../Img/Avatar.jpg'\nimport { FC, useEffect, useState } from 'react';\nimport Status from './Status';\nimport AboutMe from './AboutMe';\nimport EditAboutMe from './EditAboutMe';\nimport Modal from './Modal';\nimport { profile, profileUPD } from '../../../Types/Types';\nimport { response } from '../../../Api';\n\ntype CustomProps = {\n\n  profile:profile\n  updProfile: (data:profileUPD, userId:number | null)=> any\n  isFetching: boolean\n  userId: number | null\n}\n\n const ProfileInfo:FC<CustomProps> = ({ profile, updProfile, isFetching, userId})=> {\n\n  const [editMod, updEditMode] = useState(false)\n  const [modal, updModal] = useState(false)\n  const [isOwner, updOwner] = useState(false)\n  const editModeActive = () => {\n    updEditMode(true)\n  }\n\n  useEffect(()=>{\n          if (profile.userId === userId) {\n            updOwner(true)\n          }\n          else updOwner(false)\n  },[profile.userId])\n\n  const saveAboutMe = (data:any) => {\n    updProfile(data, profile.userId)\n    .then((data:response)=>{\n     if (data.resultCode == 0)\n     {\n      updEditMode(false)\n     }\n    })\n    .catch((error:any)=>{\n        alert (error.response) \n    })\n  }\n\n  return (\n    \n   <div>\n     <Modal modal={modal} updModal={updModal}/>\n    <div className={style.Profile}>\n     \n  \n      <div className={style.Avatar}>\n        <h2>{profile.fullName}</h2>\n        <div className={style.ImageSettings}>\n             \n             {isOwner && <svg className={style.svg} onClick={()=>updModal(true)} width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\n             <title>Изменить фото</title>\n             <path d=\"M13.325 15.775a4 4 0 1 1 1.662-1.114l1.314 1.843a5.267 5.267 0 0 1 2.289.236l1.058-1.765c-2.153-1.683-2.19-4.248 0-5.95l-1.05-1.75C15.9 8.248 13.522 6.864 13.076 4h-2.15C10.48 6.833 8.127 8.263 5.4 7.276l-1.05 1.75c2.154 1.682 2.19 4.247.001 5.95l1.05 1.75c2.699-.974 5.077.41 5.523 3.274H14a1 1 0 0 1 0 2h-4a1 1 0 0 1-1-1c0-2.344-1.5-3.217-3.524-2.12a1 1 0 0 1-1.334-.366l-2-3.335a1 1 0 0 1 .382-1.393c1.956-1.06 1.927-2.528 0-3.572a1 1 0 0 1-.382-1.393l2-3.335a1 1 0 0 1 1.334-.365C7.524 6.23 9 5.318 9 3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1c0 2.344 1.5 3.217 3.524 2.12a1 1 0 0 1 1.334.366l2 3.335a1 1 0 0 1-.382 1.393c-1.956 1.06-1.927 2.528 0 3.572a1 1 0 0 1 .382 1.393l-2 3.335a1 1 0 0 1-1.334.365c-.734-.397-1.664-.525-2.356-.307a1 1 0 0 1-1.115-.373l-1.728-2.424zM12 14a2 2 0 1 0 0-4 2 2 0 0 0 0 4z\"/>\n             </svg>}\n        <img src={profile.photos.large == null ? Ava : profile.photos.large}></img>\n        </div>\n        <Status isOwner={isOwner}/>\n      </div>\n      <div className={style.AboutMe}>\n        {!editMod ? <AboutMe profile={profile} /> : <EditAboutMe isFetching={isFetching} closeAboutMe={()=>updEditMode(false)} initialValues={profile} profile={profile} onSubmit={saveAboutMe} />}\n        {!editMod && isOwner && <button className={style.editButton} onClick={editModeActive}>Edit profile</button>}\n      </div>\n    </div>\n    </div>\n  )\n}\n\nexport default ProfileInfo\n\n","import style from './Profile.module.css'\nimport React, { ComponentType, Dispatch } from 'react';\nimport ProfileInfo from './ProfileInfo/ProfileInfo';\nimport { connect } from 'react-redux';\nimport { withRouter, RouteComponentProps, RouteProps} from 'react-router-dom';\nimport { getProfileThunk, getStatusThunk, updProfileThunk } from '../../Redux/ProfilePage-Reducer';\nimport { compose } from 'redux';\nimport WithAuthRedirect from '../../hoc/WithAuthRedirect';\nimport { profile, profileUPD } from '../../Types/Types';\nimport { AppState } from '../../Redux/Store';\n\n\ntype MapStateToPropsType = {\n  profile: profile\n  Status: string\n  isFetching: boolean\n  userId: number | null\n}\n\ntype MapDispatchToPropsType = {\n  setStateProfile:(user:number)=> void\n  getStatus:(user:number)=> void\n  updProfile:(data: profileUPD, user:number | null)=> void\n}\n\n\ntype withRouterProps = {\n  userID:string \n}\n\ntype PropsType = MapStateToPropsType & MapDispatchToPropsType & RouteComponentProps<withRouterProps>\n\nclass Profile extends React.Component<PropsType> {\n\n   \n  setProfile (user:number) { \n    this.props.setStateProfile(user)\n    this.props.getStatus(user)\n  }\n\n  componentDidMount(){\n   this.setProfile(parseInt(this.props.match.params.userID))}\n  \n  \n  componentDidUpdate(prevProps:PropsType){\n    if (this.props.match.params.userID != prevProps.match.params.userID)\n    {this.setProfile(parseInt(this.props.match.params.userID))}\n\n  }\n\n  render (){\n    return(\n    <div>\n      <ProfileInfo userId={this.props.userId} profile={this.props.profile} updProfile={this.props.updProfile} isFetching={this.props.isFetching}/>\n    </div>\n    )\n  }\n}\n\nlet MapDispatchToProps = (dispatch:Dispatch<any>):MapDispatchToPropsType=>{\nreturn {\n  setStateProfile:(user:number)=>dispatch(getProfileThunk(user)),\n  getStatus:(user:number)=>dispatch(getStatusThunk(user)),\n  updProfile:(data:profileUPD,user:number | null)=>dispatch(updProfileThunk(data,user))\n}\n\n}\nlet MapStateToProps = (state:AppState):MapStateToPropsType=>{\n  return {\n    profile: state.ProfilePage.profile,\n    Status: state.ProfilePage.status,\n    isFetching: state.Utilits.isFetching,\n    userId: state.Auth.id\n  }\n}\n\nexport default compose<ComponentType>(\n  WithAuthRedirect,\n  withRouter,\n  connect<MapStateToPropsType,MapDispatchToPropsType,unknown,AppState>(MapStateToProps,MapDispatchToProps)\n)(Profile) \n","import { InferActions } from \"./Store\"\r\n\r\ntype message = {\r\n    userId:number\r\n    userName:string\r\n    message:string\r\n    photo: null | string\r\n}\r\n\r\nconst initialState = {\r\n    items:[] as Array<message>\r\n}\r\n\r\ntype InitialState = typeof initialState\r\n\r\nconst INITCHAT = 'INIT-CHAT'\r\nconst NULLCHAT = 'NULL-CHAT'\r\n\r\nconst chatReducer = (state=initialState, action:Actions):InitialState=>{\r\n    switch(action.type)\r\n    { \r\n       case INITCHAT:\r\n           return{\r\n               ...state,\r\n               items:[...state.items,...action.payload]\r\n           }\r\n           \r\n        case NULLCHAT:\r\n        return{\r\n                ...state,\r\n                items:[]\r\n         }   \r\n       default: \r\n           return state\r\n    }\r\n\r\n}\r\n\r\ntype Actions = InferActions<typeof actions>\r\n\r\nexport const actions = {\r\n   initchatAC: (payload:any)=>{\r\n    return {\r\n        type:INITCHAT,\r\n        payload\r\n    } as const\r\n   },\r\n   nullchatAC: ()=>{\r\n    return {\r\n        type:NULLCHAT,\r\n    } as const\r\n   }\r\n}\r\n\r\n\r\n\r\nexport default chatReducer","import { AppState } from \"../../Redux/Store\";\r\n\r\nexport const getChat = (state:AppState) => state.Chat\r\n\r\nexport const getMyId = (state:AppState)=> state.Auth.id","import { useEffect, useLayoutEffect, useRef, useState } from \"react\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { actions } from \"../../Redux/Chat-Reducer\"\r\nimport Preloader from \"../Utilits/preloader\"\r\nimport { getChat, getMyId } from \"../Utilits/Selectors\"\r\nimport { CloseOutlined, WechatOutlined } from '@ant-design/icons'\r\nimport classNames from \"classnames\"\r\n\r\n\r\n\r\nconst Chat = () => {\r\n    let chatWS:WebSocket;\r\n\r\n    const MessageElement = useRef<HTMLDivElement | null>(null)\r\n\r\n    const InitialMessages = (response: any) => {\r\n        dispatch(actions.initchatAC(JSON.parse(response.data)))\r\n        MessageElement.current?.scrollIntoView()\r\n    }\r\n    const connect = ()=>{\r\n        chatWS = new WebSocket('wss://social-network.samuraijs.com/handlers/ChatHandler.ashx')\r\n        chatWS.onopen = () => {\r\n            updButtonDisabled(false)\r\n            updIsFetching(false)\r\n        }\r\n    }\r\n  \r\n    const [message, updMessage] = useState('')\r\n    const [buttonDisabled, updButtonDisabled] = useState(true)\r\n    const [isFetching, updIsFetching] = useState(true)\r\n    const [isFetchingSend, updIsFetchingSend] = useState(false)\r\n    const [isChatting, updChatting] = useState(false)\r\n    const dispatch = useDispatch()\r\n    const chat = useSelector(getChat)\r\n    const myId = useSelector(getMyId)\r\n\r\n    useEffect(()=>{\r\n        setTimeout(()=>{\r\n            MessageElement.current?.scrollIntoView()\r\n        },10)\r\n    },[isChatting])\r\n\r\n\r\n    useEffect(() => {\r\n       \r\n        connect()\r\n\r\n        chatWS.addEventListener('message', InitialMessages)\r\n\r\n        return () => {\r\n            dispatch(actions.nullchatAC())\r\n            chatWS.removeEventListener('message', InitialMessages)\r\n        }\r\n    }, [])\r\n\r\n\r\n    const sendMessage = () => {\r\n        if (message) {\r\n            updIsFetchingSend(true)\r\n            chatWS = new WebSocket('wss://social-network.samuraijs.com/handlers/ChatHandler.ashx')\r\n\r\n            chatWS.onopen = () => {\r\n                chatWS.send(message)\r\n                updMessage('')\r\n                updIsFetchingSend(false)\r\n            \r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n\r\n        <div className='Chat_wrapper'>\r\n         <div className='Chat_icon'><WechatOutlined style={{ fontSize: '50px' }} onClick={() => updChatting(true)} /></div> \r\n                <div className={classNames('Chat',{ChatActive:isChatting})}>\r\n           \r\n                    <div className='Chat_title'><h2>Online chat</h2><span><CloseOutlined onClick={() => updChatting(false)} /></span></div>\r\n                    <div className='Messages_container'>\r\n                        {isFetching ? <Preloader /> : <div  className='Chat_messages'>\r\n                            {chat.items.map(u =>u.userId == myId?\r\n                            <span className='Chat_message'>\r\n                              <div className='myMessage_container'><span>{u.userName}</span><img src={u.photo as string | undefined}></img></div>\r\n                                <div className='myMessage'>\r\n                                    <div className='myMessage_background'>\r\n                                    <span>{u.message}</span>\r\n                                    </div>\r\n                                    </div>\r\n                            </span>\r\n                            :\r\n                                <span className='Chat_message'>\r\n                                   <span style={{marginRight:'10px'}}><img src={u.photo as string | undefined}></img></span><span className='userName'>{u.userName}</span>\r\n                                    <div className='message'>\r\n                                    <div className='message_background'>\r\n                                        <span>{u.message}</span>  \r\n                                        </div>\r\n                                        </div>\r\n                                </span>\r\n                            )}\r\n\r\n                        </div>}\r\n                        <div ref={MessageElement}></div>\r\n                    </div>\r\n\r\n                    <div className='Chat_footer'><input onChange={(e) => { updMessage(e.target.value) }} value={message}></input>\r\n                        {isFetchingSend ? <Preloader /> : ''}\r\n                        <button disabled={buttonDisabled} onClick={sendMessage}>send</button></div>\r\n                </div>\r\n        </div>\r\n\r\n    )\r\n\r\n}\r\n\r\nexport default Chat","import Nav from \"./Components/Navigation/Nav\";\nimport Menu from \"./Components/Menu/Menu\";\nimport Dialogs from \"./Components/Dialogs/Dialogs\";\nimport { BrowserRouter, Route, Switch, Redirect, HashRouter} from \"react-router-dom\";\nimport Users from \"./Components/Users/Users\";\nimport Login from \"./Components/Login/Login\";\nimport { connect } from \"react-redux\";\nimport { AuthThunk} from \"./Redux/Auth-Reducer\";\nimport { Dispatch, FC, useEffect, useState } from 'react'\nimport Preloader from \"./Components/Utilits/preloader\";\nimport { AppState } from \"./Redux/Store\";\nimport Profile from \"./Components/Profile/Profile\";\nimport { Layout } from \"antd\";\nimport 'antd/dist/antd.css';\nimport Chat from \"./Components/Chat/Chat\";\nimport { QueryParamProvider } from 'use-query-params';\nimport cn from \"classnames\";\nimport burgerIcon from \"./Images/burgerIcon.png\"\n\nconst { Header, Content, Footer, Sider } = Layout;\n\ntype MapStateToPropsType = {\n  initApp:boolean\n    userId:number | null\n    isAuth:boolean\n}\n\ntype MapDispatchToPropsType = {\n  Auth:()=> void\n}\n\n\nlet App:FC<MapStateToPropsType & MapDispatchToPropsType> = ({Auth,initApp,userId,isAuth})=> {\n\n    const [BurgerMenu, updBurgerMenu] = useState(false)\n\n   useEffect(()=>{\n     \n     Auth()\n    \n   },[userId])\n  \n    if (initApp) return <Preloader/>\n    \n\n    return(\n      <HashRouter>\n      <QueryParamProvider ReactRouterRoute={Route}>\n      \n      <div className='container'>\n      <div className='Burger' onClick={()=>updBurgerMenu(!BurgerMenu)}><img src={burgerIcon}></img></div>\n<Layout style={{backgroundColor:'#f5f5f5'}}>\n\n    <Header style={{height:'100px', backgroundColor: '#5d8aa8',\n  boxShadow: '0px 5px 5px grey', marginBottom:'20px'}} className='Head_mobi'>\n    \n    <Nav />\n    </Header>\n    <Layout style={{backgroundColor:'#f5f5f5'}} >\n      <Sider className={cn('Menu',{MenuActive:BurgerMenu})}>\n      <Menu />\n      </Sider>\n      <Layout style={{ padding: '0 24px 24px',backgroundColor:'#f5f5f5' }}>\n        <Content className='layot_content'>\n          <Switch>\n      <Redirect exact path={'/'} to={'/profile/'+ userId}/>\n      <Redirect exact path={'/profile/'} to={'/profile/'+ userId}/>\n      <Route path='/profile/:userID' render={()=> <Profile/>}/>\n      <Route path='/dialogs' render={()=> <Dialogs/>}/>\n      <Route path='/users' render={()=> <Users/>}/>\n      <Route path='/login' render={()=> <Login/>}/>\n      </Switch>\n        </Content>\n      </Layout>\n    </Layout>\n    \n  </Layout>\n  {isAuth && <Chat/>}\n </div>\n </QueryParamProvider>\n    </HashRouter>\n    \n    )\n}\n\n\nconst MapDispatchToProps = (dispatch:Dispatch<any>):MapDispatchToPropsType => {\n return {\n   Auth:()=>dispatch(AuthThunk)\n }\n}\n\nconst MapStateToProps = (state:AppState):MapStateToPropsType => {\n  return {\n    initApp:state.Auth.initApp,\n    userId:state.Auth.id,\n    isAuth:state.Auth.isAuth\n  }\n }\n\n export default connect<MapStateToPropsType, MapDispatchToPropsType, {}, AppState>(MapStateToProps,MapDispatchToProps)(App)\n\n\n ","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAGAAAABgCAMAAADVRocKAAAABGdBTUEAALGPC/xhBQAAAAFzUkdCAK7OHOkAAAAgY0hSTQAAeiYAAICEAAD6AAAAgOgAAHUwAADqYAAAOpgAABdwnLpRPAAAAFFQTFRFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA////XBczUAAAABl0Uk5TAAsbHgoTZ7rc4bgUO7/7Nr65/NsatwkwZkl5rl8AAAABYktHRBp1Z+QyAAAACXBIWXMAAOw4AADsOAFxK8o4AAAAtUlEQVRo3u3W6w6CMAyGYZxjQ5TD2FC8/xsV43/ompCpeZ8LaLsUmq+qAAAo52TOmYzNKF8731wyNa27Suvfuv6p0HeDcP5RU/4t1KIGbtI2mJykvg3a+usTJJs2Ud8gJkGDdHQDO+sbzPdvWPLxn2k1eN2PFh6y+usbFh9zT0VsF+H8n01nH7uUc+wA/Ady0fb85KId5KLySyYXyZCLAAiQi7bnJxftIBeVXzK5SIZcBAD4MS9xcbsb4MEl0QAAACV0RVh0ZGF0ZTpjcmVhdGUAMjAxOC0xMC0zMVQxMToyNjoxMiswMTowMK3NDzsAAAAldEVYdGRhdGU6bW9kaWZ5ADIwMTgtMTAtMzFUMTE6MjY6MTIrMDE6MDDckLeHAAAARnRFWHRzb2Z0d2FyZQBJbWFnZU1hZ2ljayA2LjcuOC05IDIwMTYtMDYtMTYgUTE2IGh0dHA6Ly93d3cuaW1hZ2VtYWdpY2sub3Jn5r80tgAAABh0RVh0VGh1bWI6OkRvY3VtZW50OjpQYWdlcwAxp/+7LwAAABh0RVh0VGh1bWI6OkltYWdlOjpoZWlnaHQANTEywNBQUQAAABd0RVh0VGh1bWI6OkltYWdlOjpXaWR0aAA1MTIcfAPcAAAAGXRFWHRUaHVtYjo6TWltZXR5cGUAaW1hZ2UvcG5nP7JWTgAAABd0RVh0VGh1bWI6Ok1UaW1lADE1NDA5ODE1NzK3jwUwAAAAE3RFWHRUaHVtYjo6U2l6ZQA0LjY0S0JCJnvN4QAAAF10RVh0VGh1bWI6OlVSSQBmaWxlOi8vLi91cGxvYWRzLzU2L2lJOXJBMTIvMTY1OS8zODQ0NDM4LWhhbWJ1cmdlci1tZW51LW1vcmUtbmF2aWdhdGlvbl8xMTAzMTkucG5nZ54ZMAAAAABJRU5ErkJggg==\"","let init = {\r\n  dialogs: [\r\n    {\r\n      id: 1,\r\n      nameDialog: 'Omar',\r\n      messages: [{ id: 1, text: 'hi, omar' }, { id: 2, text: 'hi, oleg' }]\r\n    },\r\n    {\r\n      id: 2,\r\n      nameDialog: 'Sergey',\r\n      messages: [{ id: 1, text: 'hi, vcxvcxv' }, { id: 2, text: 'hi, vcxvcxv' }]\r\n    },\r\n    {\r\n      id: 3,\r\n      nameDialog: 'Lev',\r\n      messages: [{ id: 1, text: 'hi, eqwewqe' }, { id: 2, text: 'hi, dsadsad' }]\r\n    },\r\n  ],\r\n  activeDialog: {\r\n    id: 0,\r\n    nameDialog: '',\r\n    messages: []\r\n  },\r\n  textMessage: '',\r\n}\r\n\r\nexport default function DialogPageReducer(state = init, action) {\r\n  switch (action.type) {\r\n\r\n    case 'CHANGE-DIALOG':\r\n      return {\r\n        ...state,\r\n        activeDialog: action.dialog\r\n      }\r\n\r\n    case 'SEND-MESSAGE':\r\n      debugger\r\n      if (state.activeDialog.id === 0) {\r\n        alert('Откройте диалог')\r\n      }\r\n      else {\r\n        let dialogId = state.dialogs.findIndex(item => item.id === state.activeDialog.id);\r\n        let newMessage = { id: 1, text: state.textMessage };\r\n        let copystate = Object.assign({}, state)\r\n        copystate.dialogs[dialogId].messages.push(newMessage);\r\n        copystate.textMessage = '';\r\n\r\n        return copystate;\r\n      }\r\n      return state;\r\n    case 'UPD-TEXT-MESSAGE':\r\n      return {\r\n        ...state,\r\n        textMessage: action.text\r\n      }\r\n    default:\r\n      return state;\r\n  }\r\n}\r\n\r\n","import { applyMiddleware, combineReducers, createStore } from \"redux\";\r\nimport ProfilePageReducer from \"./ProfilePage-Reducer\"\r\nimport DialogPageReducer from \"./DialogPage-Reducer\"\r\nimport UsersPageReducer from \"./UsersPage-Reducer\";\r\nimport thunk from \"redux-thunk\";\r\nimport AuthReducer from \"./Auth-Reducer\";\r\nimport { reducer } from \"redux-form\";\r\nimport UtilitsReducer from \"./Utilits-Reducer\";\r\nimport chatReducer from \"./Chat-Reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    ProfilePage: ProfilePageReducer,\r\n    DialogPage: DialogPageReducer,\r\n    UsersPage: UsersPageReducer,\r\n    Auth: AuthReducer,\r\n    form:reducer,\r\n    Utilits: UtilitsReducer,\r\n    Chat: chatReducer\r\n})\r\n\r\ntype reducers = typeof reducers\r\nexport type AppState = ReturnType<reducers>\r\n\r\ntype ActionTypes<T> = T extends { [key: string]: infer U } ? U : never\r\nexport type InferActions<T extends {[key:string]:(...args:any[])=>any}> = ReturnType<ActionTypes<T>>\r\n\r\nlet store = createStore(reducers,applyMiddleware(thunk));\r\nexport default store;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { Provider } from 'react-redux';\nimport store from './Redux/Store';\n\n\nReactDOM.render(\n  <Provider store={store}><App/></Provider>,\n  document.getElementById('root')\n);\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Modal\":\"Modal_Modal__aKK59\",\"ModalContent\":\"Modal_ModalContent__1qs3m\",\"ModalActive\":\"Modal_ModalActive__1Jc0N\",\"ModalContentActive\":\"Modal_ModalContentActive__1m8lc\",\"buttons\":\"Modal_buttons__10Sn3\",\"content\":\"Modal_content__1GZMd\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Menu\":\"Menu_Menu__3jIS2\",\"Active\":\"Menu_Active__3xzro\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Profile\":\"ProfileInfo_Profile__20Qw0\",\"Avatar\":\"ProfileInfo_Avatar__36Y6s\",\"svg\":\"ProfileInfo_svg__Kqr2G\",\"ImageSettings\":\"ProfileInfo_ImageSettings__1LWCf\",\"AboutMe\":\"ProfileInfo_AboutMe__3LkfG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"margin\":\"Pagination_margin__3Kk3l\",\"ActivePage\":\"Pagination_ActivePage__1Shtx\",\"Prev\":\"Pagination_Prev__3HpIC\",\"pagination\":\"Pagination_pagination__35eJh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login\":\"Loginform_login__2smEb\",\"loginWcaptcha\":\"Loginform_loginWcaptcha__V2_oo\",\"captcha\":\"Loginform_captcha___WOOU\",\"error\":\"Loginform_error__1nXd0\",\"RememberMe\":\"Loginform_RememberMe__3fdBQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Nav\":\"Nav_Nav__ucKIc\",\"Logo\":\"Nav_Logo__2vyaK\",\"login\":\"Nav_login__U6U9O\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"status\":\"Status_status__3qH1m\",\"anime\":\"Status_anime__37Yte\",\"notStatus\":\"Status_notStatus__1QBO2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"aboutMe\":\"EditAboutMe_aboutMe__1UuqV\",\"anime\":\"EditAboutMe_anime__1KA2-\",\"buttons\":\"EditAboutMe_buttons__3WHuJ\",\"LookingForAjob\":\"EditAboutMe_LookingForAjob__2CKxG\"};"],"sourceRoot":""}